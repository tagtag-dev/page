import"./ScrollArea-DFVXjTz0.js";import"./RovingFocusItem-CVjkq2qt.js";import"./Presence-3Lrzvetv.js";import{n as e,r as t,t as n}from"./TabsTrigger-DqwypIQj.js";import{A as r,Ai as i,Ca as a,Ct as o,Et as s,Fi as ee,Ga as c,Gi as l,Hi as u,I as te,Ii as d,Jt as f,Ka as p,Kn as m,Li as h,Na as g,P as ne,Q as _,S as v,Ua as y,Ui as b,Va as x,X as S,an as C,ca as w,fa as T,jt as E,l as re,n as ie,nt as ae,oa as D,qt as O,ra as k,st as A,v as j,vt as M,xt as N,zi as P}from"./index-D6Cod0pL.js";import"./_plugin-vue_export-helper-Dey4FfNi.js";import{t as F}from"./badge-O2q4qI2Q.js";import{n as I,t as L}from"./CardContent-CMuL0LxG.js";import{t as R}from"./CardDescription-DXNpEJau.js";import{n as z,t as B}from"./CardTitle-D06OZslX.js";import{i as V}from"./bento-CoJO8vPE.js";var H={class:`space-y-6`},U={class:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`},W={class:`flex items-center gap-2`},G={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`},K={class:`grid grid-cols-1 lg:grid-cols-2 gap-6`},q={class:`flex items-center justify-between`},J={class:`h-64 flex items-end justify-between gap-3`},oe={class:`w-full flex flex-col gap-1`},se={class:`absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-foreground text-background text-xs px-2 py-1 rounded whitespace-nowrap`},ce={class:`text-xs text-muted-foreground`},le={class:`flex items-center justify-between`},ue={class:`h-64 flex items-end justify-between gap-2`},de={class:`absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-foreground text-background text-xs px-2 py-1 rounded whitespace-nowrap`},fe={class:`text-xs text-muted-foreground`},pe={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},me={class:`flex items-center justify-between`},he={class:`space-y-4`},ge={class:`flex items-center justify-between`},_e={class:`flex items-center gap-3`},ve={class:`text-sm font-medium`},ye={class:`flex items-center gap-4`},be={class:`text-sm text-muted-foreground`},xe={class:`text-sm font-medium w-10 text-right`},Se={class:`h-2 bg-muted rounded-full overflow-hidden`},Ce={class:`flex items-center justify-between`},we={class:`space-y-4`},Te={class:`flex items-center justify-between`},Ee={class:`flex items-center gap-3`},De={class:`text-sm font-medium`},Oe={class:`flex items-center gap-4`},ke={class:`text-sm text-muted-foreground`},Ae={class:`text-sm font-medium w-10 text-right`},je={class:`h-2 bg-muted rounded-full overflow-hidden`},Me={class:`flex items-center justify-between`},Ne={class:`space-y-3`},Pe={class:`flex items-center gap-3`},Fe={class:`font-medium text-sm`},Ie={class:`text-right`},Le={class:`font-medium`},Re={class:`text-xs text-muted-foreground`},ze={class:`flex items-center justify-between`},Be={class:`overflow-x-auto`},Ve={class:`w-full`},He={class:`py-3 px-4`},Ue={class:`py-3 px-4 text-sm font-mono text-muted-foreground`},We={class:`py-3 px-4 text-sm font-medium`},Ge={class:`py-3 px-4 text-right text-sm`},Y={class:`py-3 px-4 text-right text-sm`},Ke={class:`py-3 px-4 text-right`},X=l({__name:`Traffic`,setup(l){let X=g(`7d`),Z=g({totalVisits:0,uniqueVisitors:0,pageViews:0,avgDuration:`0:00`,bounceRate:`0%`,growth:0}),Q=g([]),qe=ee(()=>[{title:`总访问量`,value:Z.value.totalVisits?.toLocaleString()??`0`,change:12.5,isPositive:!0,icon:N,colorTheme:`blue`,description:`较上周 +12.5%`,chartData:[45,52,48,65,72,68,75]},{title:`独立访客`,value:Z.value.uniqueVisitors?.toLocaleString()??`0`,change:8.3,isPositive:!0,icon:re,colorTheme:`green`,description:`新访客占比 32%`,chartData:[38,42,45,48,52,55,58]},{title:`页面浏览量`,value:Z.value.pageViews?.toLocaleString()??`0`,change:15.2,isPositive:!0,icon:S,colorTheme:`purple`,description:`人均浏览 3.2 页`,chartData:[55,58,62,68,72,78,82]},{title:`平均停留`,value:Z.value.avgDuration,change:5.1,isPositive:!0,icon:E,colorTheme:`orange`,description:`跳出率 42.3%`,chartData:[40,42,45,48,52,55,58]}]),Je=g([{name:`直接访问`,percentage:35,visits:15831,icon:o,color:`bg-blue-500`},{name:`搜索引擎`,percentage:28,visits:12665,icon:te,color:`bg-green-500`},{name:`社交媒体`,percentage:22,visits:9951,icon:ne,color:`bg-purple-500`},{name:`外部链接`,percentage:15,visits:6785,icon:A,color:`bg-orange-500`}]),Ye=g([{name:`桌面端`,percentage:58,visits:26234,icon:_,color:`bg-blue-500`},{name:`移动端`,percentage:35,visits:15831,icon:r,color:`bg-green-500`},{name:`平板`,percentage:7,visits:3166,icon:v,color:`bg-purple-500`}]),Xe=g([{name:`北京`,visits:12580,percentage:28},{name:`上海`,visits:9876,percentage:22},{name:`广州`,visits:6789,percentage:15},{name:`深圳`,visits:5432,percentage:12},{name:`杭州`,visits:4321,percentage:10}]),Ze=g([{path:`/products`,title:`商品列表`,visits:12580,avgTime:`2m 35s`,bounceRate:32},{path:`/home`,title:`首页`,visits:9876,avgTime:`1m 48s`,bounceRate:28},{path:`/cart`,title:`购物车`,visits:6789,avgTime:`3m 12s`,bounceRate:45},{path:`/checkout`,title:`结算页`,visits:5432,avgTime:`4m 05s`,bounceRate:52},{path:`/about`,title:`关于我们`,visits:3210,avgTime:`1m 20s`,bounceRate:65}]),Qe=g([{hour:`00:00`,visits:120},{hour:`02:00`,visits:80},{hour:`04:00`,visits:60},{hour:`06:00`,visits:150},{hour:`08:00`,visits:450},{hour:`10:00`,visits:680},{hour:`12:00`,visits:850},{hour:`14:00`,visits:720},{hour:`16:00`,visits:650},{hour:`18:00`,visits:580},{hour:`20:00`,visits:920},{hour:`22:00`,visits:480}]),$=async()=>{try{let[e,t]=await Promise.all([m.getCoreMetrics(X.value),m.getTrafficData(X.value)]);Z.value={totalVisits:e.totalVisits,uniqueVisitors:e.newUsers*10,pageViews:e.totalVisits*3,avgDuration:`3:42`,bounceRate:`42.3%`,growth:e.visitsChange},Q.value=t}catch(e){console.error(`获取流量数据失败:`,e)}},$e=e=>{X.value=e,$()};return k(()=>{$()}),(r,o)=>(D(),P(`div`,H,[d(`div`,U,[o[4]||=d(`div`,null,[d(`h1`,{class:`text-3xl font-bold tracking-tight`},`流量分析`),d(`p`,{class:`text-muted-foreground mt-1.5 text-sm`},`分析网站访问流量和用户行为`)],-1),d(`div`,W,[b(x(t),{"model-value":x(X),"onUpdate:modelValue":$e},{default:a(()=>[b(x(e),{class:`h-9`},{default:a(()=>[b(x(n),{value:`7d`,class:`text-xs`},{default:a(()=>[...o[0]||=[u(`近7天`,-1)]]),_:1}),b(x(n),{value:`30d`,class:`text-xs`},{default:a(()=>[...o[1]||=[u(`近30天`,-1)]]),_:1}),b(x(n),{value:`90d`,class:`text-xs`},{default:a(()=>[...o[2]||=[u(`近90天`,-1)]]),_:1})]),_:1})]),_:1},8,[`model-value`]),b(x(ie),{variant:`outline`,size:`sm`,class:`gap-2`},{default:a(()=>[b(x(s),{class:`h-4 w-4`}),o[3]||=u(` 导出报告 `,-1)]),_:1})])]),d(`div`,G,[(D(!0),P(i,null,w(x(qe),e=>(D(),h(x(V),{key:e.title,title:e.title,value:e.value,description:e.description,icon:e.icon,"color-theme":e.colorTheme,trend:e.change,"chart-data":e.chartData},null,8,[`title`,`value`,`description`,`icon`,`color-theme`,`trend`,`chart-data`]))),128))]),d(`div`,K,[b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,q,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(f),{class:`h-4 w-4 text-muted-foreground`}),o[5]||=u(` 访问趋势 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[6]||=[u(`过去 7 天的访问量和订单量`,-1)]]),_:1})]),b(x(F),{variant:`outline`,class:`text-green-500 border-green-500/20 bg-green-500/10`},{default:a(()=>[b(x(j),{class:`h-3 w-3 mr-1`}),u(` +`+p(x(Z).growth)+`% `,1)]),_:1})])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,J,[(D(!0),P(i,null,w(x(Q),(e,t)=>(D(),P(`div`,{key:t,class:`flex-1 flex flex-col items-center gap-2`},[d(`div`,oe,[d(`div`,{class:`w-full bg-primary/20 rounded-t transition-all hover:bg-primary/40 relative group`,style:c({height:`${e.visits/1e4*150}px`})},[d(`div`,se,p(e.visits?.toLocaleString()??0)+` 访问 `,1)],4),d(`div`,{class:`w-full bg-orange-400/30 rounded-t transition-all hover:bg-orange-400/50`,style:c({height:`${e.orders/250*40}px`})},null,4)]),d(`span`,ce,p(e.day),1)]))),128))]),o[7]||=d(`div`,{class:`flex items-center justify-center gap-6 mt-4 text-sm`},[d(`div`,{class:`flex items-center gap-2`},[d(`div`,{class:`w-3 h-3 bg-primary/20 rounded`}),d(`span`,{class:`text-muted-foreground`},`访问量`)]),d(`div`,{class:`flex items-center gap-2`},[d(`div`,{class:`w-3 h-3 bg-orange-400/30 rounded`}),d(`span`,{class:`text-muted-foreground`},`订单量`)])],-1)]),_:1})]),_:1}),b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,le,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(E),{class:`h-4 w-4 text-muted-foreground`}),o[8]||=u(` 时段分布 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[9]||=[u(`24小时访问量分布`,-1)]]),_:1})]),b(x(F),{variant:`outline`,class:`text-blue-500 border-blue-500/20 bg-blue-500/10`},{default:a(()=>[b(x(C),{class:`h-3 w-3 mr-1`}),o[10]||=u(` 高峰 20:00 `,-1)]),_:1})])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,ue,[(D(!0),P(i,null,w(x(Qe),(e,t)=>(D(),P(`div`,{key:t,class:`flex-1 flex flex-col items-center gap-1`},[d(`div`,{class:`w-full bg-blue-500/20 rounded-t transition-all hover:bg-blue-500/40 relative group`,style:c({height:`${e.visits/1e3*150}px`})},[d(`div`,de,p(e.visits)+` 次 `,1)],4),d(`span`,fe,p(e.hour),1)]))),128))])]),_:1})]),_:1})]),d(`div`,pe,[b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,me,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(O),{class:`h-4 w-4 text-muted-foreground`}),o[11]||=u(` 访问来源 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[12]||=[u(`用户访问渠道分布`,-1)]]),_:1})])])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,he,[(D(!0),P(i,null,w(x(Je),(e,t)=>(D(),P(`div`,{key:e.name,class:`space-y-2`},[d(`div`,ge,[d(`div`,_e,[d(`div`,{class:y([`p-1.5 rounded-lg`,e.color.replace(`bg-`,`bg-`).replace(`500`,`500/10`)])},[(D(),h(T(e.icon),{class:y([`h-4 w-4`,e.color.replace(`bg-`,`text-`)])},null,8,[`class`]))],2),d(`span`,ve,p(e.name),1)]),d(`div`,ye,[d(`span`,be,p(e.visits?.toLocaleString()??0),1),d(`span`,xe,p(e.percentage)+`%`,1)])]),d(`div`,Se,[d(`div`,{class:y([`h-full rounded-full transition-all duration-500`,e.color]),style:c({width:`${e.percentage}%`})},null,6)])]))),128))])]),_:1})]),_:1}),b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,Ce,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(_),{class:`h-4 w-4 text-muted-foreground`}),o[13]||=u(` 设备分布 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[14]||=[u(`用户设备类型占比`,-1)]]),_:1})])])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,we,[(D(!0),P(i,null,w(x(Ye),(e,t)=>(D(),P(`div`,{key:e.name,class:`space-y-2`},[d(`div`,Te,[d(`div`,Ee,[d(`div`,{class:y([`p-1.5 rounded-lg`,e.color.replace(`bg-`,`bg-`).replace(`500`,`500/10`)])},[(D(),h(T(e.icon),{class:y([`h-4 w-4`,e.color.replace(`bg-`,`text-`)])},null,8,[`class`]))],2),d(`span`,De,p(e.name),1)]),d(`div`,Oe,[d(`span`,ke,p(e.visits?.toLocaleString()??0),1),d(`span`,Ae,p(e.percentage)+`%`,1)])]),d(`div`,je,[d(`div`,{class:y([`h-full rounded-full transition-all duration-500`,e.color]),style:c({width:`${e.percentage}%`})},null,6)])]))),128))]),o[15]||=d(`div`,{class:`mt-6 pt-4 border-t`},[d(`div`,{class:`grid grid-cols-3 gap-2 text-center`},[d(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[d(`p`,{class:`text-lg font-semibold`},`1920`),d(`p`,{class:`text-xs text-muted-foreground`},`平均分辨率`)]),d(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[d(`p`,{class:`text-lg font-semibold`},`Chrome`),d(`p`,{class:`text-xs text-muted-foreground`},`主流浏览器`)]),d(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[d(`p`,{class:`text-lg font-semibold`},`Win10`),d(`p`,{class:`text-xs text-muted-foreground`},`主流系统`)])])],-1)]),_:1})]),_:1}),b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,Me,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(ae),{class:`h-4 w-4 text-muted-foreground`}),o[16]||=u(` 地域分布 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[17]||=[u(`访问量 TOP 5 地区`,-1)]]),_:1})])])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,Ne,[(D(!0),P(i,null,w(x(Xe),(e,t)=>(D(),P(`div`,{key:e.name,class:`flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors`},[d(`div`,Pe,[d(`div`,{class:y([`w-8 h-8 flex items-center justify-center rounded-lg font-medium text-sm`,t<3?`bg-primary text-primary-foreground`:`bg-muted text-muted-foreground`])},p(t+1),3),d(`span`,Fe,p(e.name),1)]),d(`div`,Ie,[d(`p`,Le,p(e.visits?.toLocaleString()??0),1),d(`p`,Re,p(e.percentage)+`%`,1)])]))),128))]),o[18]||=d(`div`,{class:`mt-4 pt-4 border-t`},[d(`div`,{class:`flex items-center justify-between text-sm`},[d(`span`,{class:`text-muted-foreground`},`覆盖全国`),d(`span`,{class:`font-medium`},`31 个省市`)])],-1)]),_:1})]),_:1})]),b(x(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:a(()=>[b(x(z),{class:`pb-4`},{default:a(()=>[d(`div`,ze,[d(`div`,null,[b(x(B),{class:`text-base font-semibold flex items-center gap-2`},{default:a(()=>[b(x(M),{class:`h-4 w-4 text-muted-foreground`}),o[19]||=u(` 热门页面 `,-1)]),_:1}),b(x(R),null,{default:a(()=>[...o[20]||=[u(`访问量最高的页面排行`,-1)]]),_:1})])])]),_:1}),b(x(L),{class:`pt-0`},{default:a(()=>[d(`div`,Be,[d(`table`,Ve,[o[21]||=d(`thead`,null,[d(`tr`,{class:`border-b`},[d(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`排名`),d(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`页面路径`),d(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`页面标题`),d(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`访问量`),d(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`平均停留`),d(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`跳出率`)])],-1),d(`tbody`,null,[(D(!0),P(i,null,w(x(Ze),(e,t)=>(D(),P(`tr`,{key:e.path,class:`border-b last:border-0 hover:bg-muted/50 transition-colors`},[d(`td`,He,[d(`div`,{class:y([`w-6 h-6 flex items-center justify-center rounded font-medium text-xs`,t<3?`bg-primary text-primary-foreground`:`bg-muted text-muted-foreground`])},p(t+1),3)]),d(`td`,Ue,p(e.path),1),d(`td`,We,p(e.title),1),d(`td`,Ge,p(e.visits?.toLocaleString()??0),1),d(`td`,Y,p(e.avgTime),1),d(`td`,Ke,[b(x(F),{variant:e.bounceRate>50?`destructive`:`secondary`,class:`text-xs`},{default:a(()=>[u(p(e.bounceRate)+`% `,1)]),_:2},1032,[`variant`])])]))),128))])])])]),_:1})]),_:1})]))}});export{X as default};