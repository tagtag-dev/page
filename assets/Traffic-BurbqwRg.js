import"./ScrollArea-u7vgQcwr.js";import"./RovingFocusItem-tfPyown7.js";import"./Presence-CTcpkTiJ.js";import{n as e,r as t,t as n}from"./TabsTrigger-BVA-KY5p.js";import{A as r,Bi as i,Ct as a,Et as ee,Ha as o,I as s,Ii as te,Jt as ne,Ka as c,Ki as l,Li as u,P as d,Pa as f,Q as p,Ri as m,S as re,Ui as h,Wa as g,Wi as _,X as v,an as y,ia as b,ji as x,jt as S,l as C,la as w,n as ie,nt as ae,pa as T,qa as E,qn as D,qt as O,sa as k,st as A,v as j,vt as M,wa as N,xt as P}from"./index-Bdnse1ke.js";import"./_plugin-vue_export-helper-CuErARa7.js";import{t as F}from"./badge-CifgcTtr.js";import{n as I,t as L}from"./CardContent-CE0o8nDP.js";import{t as R}from"./CardDescription-CHuAdAMQ.js";import{n as z,t as B}from"./CardTitle-BRqhnrl0.js";import{i as V}from"./bento-CkQt-niL.js";var H={class:`space-y-6`},U={class:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`},W={class:`flex items-center gap-2`},G={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`},K={class:`grid grid-cols-1 lg:grid-cols-2 gap-6`},q={class:`flex items-center justify-between`},J={class:`h-64 flex items-end justify-between gap-3`},oe={class:`w-full flex flex-col gap-1`},se={class:`absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-foreground text-background text-xs px-2 py-1 rounded whitespace-nowrap`},ce={class:`text-xs text-muted-foreground`},le={class:`flex items-center justify-between`},ue={class:`h-64 flex items-end justify-between gap-2`},de={class:`absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-foreground text-background text-xs px-2 py-1 rounded whitespace-nowrap`},fe={class:`text-xs text-muted-foreground`},pe={class:`grid grid-cols-1 lg:grid-cols-3 gap-6`},me={class:`flex items-center justify-between`},he={class:`space-y-4`},ge={class:`flex items-center justify-between`},_e={class:`flex items-center gap-3`},ve={class:`text-sm font-medium`},ye={class:`flex items-center gap-4`},be={class:`text-sm text-muted-foreground`},xe={class:`text-sm font-medium w-10 text-right`},Se={class:`h-2 bg-muted rounded-full overflow-hidden`},Ce={class:`flex items-center justify-between`},we={class:`space-y-4`},Te={class:`flex items-center justify-between`},Ee={class:`flex items-center gap-3`},De={class:`text-sm font-medium`},Oe={class:`flex items-center gap-4`},ke={class:`text-sm text-muted-foreground`},Ae={class:`text-sm font-medium w-10 text-right`},je={class:`h-2 bg-muted rounded-full overflow-hidden`},Me={class:`flex items-center justify-between`},Ne={class:`space-y-3`},Pe={class:`flex items-center gap-3`},Fe={class:`font-medium text-sm`},Ie={class:`text-right`},Le={class:`font-medium`},Re={class:`text-xs text-muted-foreground`},ze={class:`flex items-center justify-between`},Be={class:`overflow-x-auto`},Ve={class:`w-full`},He={class:`py-3 px-4`},Ue={class:`py-3 px-4 text-sm font-mono text-muted-foreground`},We={class:`py-3 px-4 text-sm font-medium`},Ge={class:`py-3 px-4 text-right text-sm`},Y={class:`py-3 px-4 text-right text-sm`},Ke={class:`py-3 px-4 text-right`},X=l({__name:`Traffic`,setup(l){let X=f(`7d`),Z=f({totalVisits:0,uniqueVisitors:0,pageViews:0,avgDuration:`0:00`,bounceRate:`0%`,growth:0}),Q=f([]),qe=te(()=>[{title:`总访问量`,value:Z.value.totalVisits?.toLocaleString()??`0`,change:12.5,isPositive:!0,icon:P,colorTheme:`blue`,description:`较上周 +12.5%`,chartData:[45,52,48,65,72,68,75]},{title:`独立访客`,value:Z.value.uniqueVisitors?.toLocaleString()??`0`,change:8.3,isPositive:!0,icon:C,colorTheme:`green`,description:`新访客占比 32%`,chartData:[38,42,45,48,52,55,58]},{title:`页面浏览量`,value:Z.value.pageViews?.toLocaleString()??`0`,change:15.2,isPositive:!0,icon:v,colorTheme:`purple`,description:`人均浏览 3.2 页`,chartData:[55,58,62,68,72,78,82]},{title:`平均停留`,value:Z.value.avgDuration,change:5.1,isPositive:!0,icon:S,colorTheme:`orange`,description:`跳出率 42.3%`,chartData:[40,42,45,48,52,55,58]}]),Je=f([{name:`直接访问`,percentage:35,visits:15831,icon:a,color:`bg-blue-500`},{name:`搜索引擎`,percentage:28,visits:12665,icon:s,color:`bg-green-500`},{name:`社交媒体`,percentage:22,visits:9951,icon:d,color:`bg-purple-500`},{name:`外部链接`,percentage:15,visits:6785,icon:A,color:`bg-orange-500`}]),Ye=f([{name:`桌面端`,percentage:58,visits:26234,icon:p,color:`bg-blue-500`},{name:`移动端`,percentage:35,visits:15831,icon:r,color:`bg-green-500`},{name:`平板`,percentage:7,visits:3166,icon:re,color:`bg-purple-500`}]),Xe=f([{name:`北京`,visits:12580,percentage:28},{name:`上海`,visits:9876,percentage:22},{name:`广州`,visits:6789,percentage:15},{name:`深圳`,visits:5432,percentage:12},{name:`杭州`,visits:4321,percentage:10}]),Ze=f([{path:`/products`,title:`商品列表`,visits:12580,avgTime:`2m 35s`,bounceRate:32},{path:`/home`,title:`首页`,visits:9876,avgTime:`1m 48s`,bounceRate:28},{path:`/cart`,title:`购物车`,visits:6789,avgTime:`3m 12s`,bounceRate:45},{path:`/checkout`,title:`结算页`,visits:5432,avgTime:`4m 05s`,bounceRate:52},{path:`/about`,title:`关于我们`,visits:3210,avgTime:`1m 20s`,bounceRate:65}]),Qe=f([{hour:`00:00`,visits:120},{hour:`02:00`,visits:80},{hour:`04:00`,visits:60},{hour:`06:00`,visits:150},{hour:`08:00`,visits:450},{hour:`10:00`,visits:680},{hour:`12:00`,visits:850},{hour:`14:00`,visits:720},{hour:`16:00`,visits:650},{hour:`18:00`,visits:580},{hour:`20:00`,visits:920},{hour:`22:00`,visits:480}]),$=async()=>{try{let[e,t]=await Promise.all([D.getCoreMetrics(X.value),D.getTrafficData(X.value)]);Z.value={totalVisits:e.totalVisits,uniqueVisitors:e.newUsers*10,pageViews:e.totalVisits*3,avgDuration:`3:42`,bounceRate:`42.3%`,growth:e.visitsChange},Q.value=t}catch(e){console.error(`获取流量数据失败:`,e)}},$e=e=>{X.value=e,$()};return b(()=>{$()}),(r,a)=>(k(),i(`div`,H,[u(`div`,U,[a[4]||=u(`div`,null,[u(`h1`,{class:`text-3xl font-bold tracking-tight`},`流量分析`),u(`p`,{class:`text-muted-foreground mt-1.5 text-sm`},`分析网站访问流量和用户行为`)],-1),u(`div`,W,[_(o(t),{"model-value":o(X),"onUpdate:modelValue":$e},{default:N(()=>[_(o(e),{class:`h-9`},{default:N(()=>[_(o(n),{value:`7d`,class:`text-xs`},{default:N(()=>[...a[0]||=[h(`近7天`,-1)]]),_:1}),_(o(n),{value:`30d`,class:`text-xs`},{default:N(()=>[...a[1]||=[h(`近30天`,-1)]]),_:1}),_(o(n),{value:`90d`,class:`text-xs`},{default:N(()=>[...a[2]||=[h(`近90天`,-1)]]),_:1})]),_:1})]),_:1},8,[`model-value`]),_(o(ie),{variant:`outline`,size:`sm`,class:`gap-2`},{default:N(()=>[_(o(ee),{class:`h-4 w-4`}),a[3]||=h(` 导出报告 `,-1)]),_:1})])]),u(`div`,G,[(k(!0),i(x,null,w(o(qe),e=>(k(),m(o(V),{key:e.title,title:e.title,value:e.value,description:e.description,icon:e.icon,"color-theme":e.colorTheme,trend:e.change,"chart-data":e.chartData},null,8,[`title`,`value`,`description`,`icon`,`color-theme`,`trend`,`chart-data`]))),128))]),u(`div`,K,[_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,q,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(ne),{class:`h-4 w-4 text-muted-foreground`}),a[5]||=h(` 访问趋势 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[6]||=[h(`过去 7 天的访问量和订单量`,-1)]]),_:1})]),_(o(F),{variant:`outline`,class:`text-green-500 border-green-500/20 bg-green-500/10`},{default:N(()=>[_(o(j),{class:`h-3 w-3 mr-1`}),h(` +`+E(o(Z).growth)+`% `,1)]),_:1})])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,J,[(k(!0),i(x,null,w(o(Q),(e,t)=>(k(),i(`div`,{key:t,class:`flex-1 flex flex-col items-center gap-2`},[u(`div`,oe,[u(`div`,{class:`w-full bg-primary/20 rounded-t transition-all hover:bg-primary/40 relative group`,style:c({height:`${e.visits/1e4*150}px`})},[u(`div`,se,E(e.visits?.toLocaleString()??0)+` 访问 `,1)],4),u(`div`,{class:`w-full bg-orange-400/30 rounded-t transition-all hover:bg-orange-400/50`,style:c({height:`${e.orders/250*40}px`})},null,4)]),u(`span`,ce,E(e.day),1)]))),128))]),a[7]||=u(`div`,{class:`flex items-center justify-center gap-6 mt-4 text-sm`},[u(`div`,{class:`flex items-center gap-2`},[u(`div`,{class:`w-3 h-3 bg-primary/20 rounded`}),u(`span`,{class:`text-muted-foreground`},`访问量`)]),u(`div`,{class:`flex items-center gap-2`},[u(`div`,{class:`w-3 h-3 bg-orange-400/30 rounded`}),u(`span`,{class:`text-muted-foreground`},`订单量`)])],-1)]),_:1})]),_:1}),_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,le,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(S),{class:`h-4 w-4 text-muted-foreground`}),a[8]||=h(` 时段分布 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[9]||=[h(`24小时访问量分布`,-1)]]),_:1})]),_(o(F),{variant:`outline`,class:`text-blue-500 border-blue-500/20 bg-blue-500/10`},{default:N(()=>[_(o(y),{class:`h-3 w-3 mr-1`}),a[10]||=h(` 高峰 20:00 `,-1)]),_:1})])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,ue,[(k(!0),i(x,null,w(o(Qe),(e,t)=>(k(),i(`div`,{key:t,class:`flex-1 flex flex-col items-center gap-1`},[u(`div`,{class:`w-full bg-blue-500/20 rounded-t transition-all hover:bg-blue-500/40 relative group`,style:c({height:`${e.visits/1e3*150}px`})},[u(`div`,de,E(e.visits)+` 次 `,1)],4),u(`span`,fe,E(e.hour),1)]))),128))])]),_:1})]),_:1})]),u(`div`,pe,[_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,me,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(O),{class:`h-4 w-4 text-muted-foreground`}),a[11]||=h(` 访问来源 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[12]||=[h(`用户访问渠道分布`,-1)]]),_:1})])])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,he,[(k(!0),i(x,null,w(o(Je),(e,t)=>(k(),i(`div`,{key:e.name,class:`space-y-2`},[u(`div`,ge,[u(`div`,_e,[u(`div`,{class:g([`p-1.5 rounded-lg`,e.color.replace(`bg-`,`bg-`).replace(`500`,`500/10`)])},[(k(),m(T(e.icon),{class:g([`h-4 w-4`,e.color.replace(`bg-`,`text-`)])},null,8,[`class`]))],2),u(`span`,ve,E(e.name),1)]),u(`div`,ye,[u(`span`,be,E(e.visits?.toLocaleString()??0),1),u(`span`,xe,E(e.percentage)+`%`,1)])]),u(`div`,Se,[u(`div`,{class:g([`h-full rounded-full transition-all duration-500`,e.color]),style:c({width:`${e.percentage}%`})},null,6)])]))),128))])]),_:1})]),_:1}),_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,Ce,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(p),{class:`h-4 w-4 text-muted-foreground`}),a[13]||=h(` 设备分布 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[14]||=[h(`用户设备类型占比`,-1)]]),_:1})])])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,we,[(k(!0),i(x,null,w(o(Ye),(e,t)=>(k(),i(`div`,{key:e.name,class:`space-y-2`},[u(`div`,Te,[u(`div`,Ee,[u(`div`,{class:g([`p-1.5 rounded-lg`,e.color.replace(`bg-`,`bg-`).replace(`500`,`500/10`)])},[(k(),m(T(e.icon),{class:g([`h-4 w-4`,e.color.replace(`bg-`,`text-`)])},null,8,[`class`]))],2),u(`span`,De,E(e.name),1)]),u(`div`,Oe,[u(`span`,ke,E(e.visits?.toLocaleString()??0),1),u(`span`,Ae,E(e.percentage)+`%`,1)])]),u(`div`,je,[u(`div`,{class:g([`h-full rounded-full transition-all duration-500`,e.color]),style:c({width:`${e.percentage}%`})},null,6)])]))),128))]),a[15]||=u(`div`,{class:`mt-6 pt-4 border-t`},[u(`div`,{class:`grid grid-cols-3 gap-2 text-center`},[u(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[u(`p`,{class:`text-lg font-semibold`},`1920`),u(`p`,{class:`text-xs text-muted-foreground`},`平均分辨率`)]),u(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[u(`p`,{class:`text-lg font-semibold`},`Chrome`),u(`p`,{class:`text-xs text-muted-foreground`},`主流浏览器`)]),u(`div`,{class:`p-2 bg-muted/50 rounded-lg`},[u(`p`,{class:`text-lg font-semibold`},`Win10`),u(`p`,{class:`text-xs text-muted-foreground`},`主流系统`)])])],-1)]),_:1})]),_:1}),_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,Me,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(ae),{class:`h-4 w-4 text-muted-foreground`}),a[16]||=h(` 地域分布 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[17]||=[h(`访问量 TOP 5 地区`,-1)]]),_:1})])])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,Ne,[(k(!0),i(x,null,w(o(Xe),(e,t)=>(k(),i(`div`,{key:e.name,class:`flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors`},[u(`div`,Pe,[u(`div`,{class:g([`w-8 h-8 flex items-center justify-center rounded-lg font-medium text-sm`,t<3?`bg-primary text-primary-foreground`:`bg-muted text-muted-foreground`])},E(t+1),3),u(`span`,Fe,E(e.name),1)]),u(`div`,Ie,[u(`p`,Le,E(e.visits?.toLocaleString()??0),1),u(`p`,Re,E(e.percentage)+`%`,1)])]))),128))]),a[18]||=u(`div`,{class:`mt-4 pt-4 border-t`},[u(`div`,{class:`flex items-center justify-between text-sm`},[u(`span`,{class:`text-muted-foreground`},`覆盖全国`),u(`span`,{class:`font-medium`},`31 个省市`)])],-1)]),_:1})]),_:1})]),_(o(I),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:N(()=>[_(o(z),{class:`pb-4`},{default:N(()=>[u(`div`,ze,[u(`div`,null,[_(o(B),{class:`text-base font-semibold flex items-center gap-2`},{default:N(()=>[_(o(M),{class:`h-4 w-4 text-muted-foreground`}),a[19]||=h(` 热门页面 `,-1)]),_:1}),_(o(R),null,{default:N(()=>[...a[20]||=[h(`访问量最高的页面排行`,-1)]]),_:1})])])]),_:1}),_(o(L),{class:`pt-0`},{default:N(()=>[u(`div`,Be,[u(`table`,Ve,[a[21]||=u(`thead`,null,[u(`tr`,{class:`border-b`},[u(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`排名`),u(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`页面路径`),u(`th`,{class:`text-left py-3 px-4 text-sm font-medium text-muted-foreground`},`页面标题`),u(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`访问量`),u(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`平均停留`),u(`th`,{class:`text-right py-3 px-4 text-sm font-medium text-muted-foreground`},`跳出率`)])],-1),u(`tbody`,null,[(k(!0),i(x,null,w(o(Ze),(e,t)=>(k(),i(`tr`,{key:e.path,class:`border-b last:border-0 hover:bg-muted/50 transition-colors`},[u(`td`,He,[u(`div`,{class:g([`w-6 h-6 flex items-center justify-center rounded font-medium text-xs`,t<3?`bg-primary text-primary-foreground`:`bg-muted text-muted-foreground`])},E(t+1),3)]),u(`td`,Ue,E(e.path),1),u(`td`,We,E(e.title),1),u(`td`,Ge,E(e.visits?.toLocaleString()??0),1),u(`td`,Y,E(e.avgTime),1),u(`td`,Ke,[_(o(F),{variant:e.bounceRate>50?`destructive`:`secondary`,class:`text-xs`},{default:N(()=>[h(E(e.bounceRate)+`% `,1)]),_:2},1032,[`variant`])])]))),128))])])])]),_:1})]),_:1})]))}});export{X as default};