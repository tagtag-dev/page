import{Ct as e,Et as t,F as n,H as r,Ha as i,Ii as a,N as o,P as s,Tt as c,Yi as l,ar as u,b as d,bt as f,kt as p,n as m,sn as h,xt as g}from"./index-Bdnse1ke.js";import{f as _}from"./dist-CIVP1JAM.js";var v={编辑:r,修改:r,删除:d,查看:g,详情:c,详情页:f,设置:n,下载:t,分享:s,复制:p,跳转:e,权限:o};function y(e){return e.icon?e.icon:v[e.text]||null}function b(e,t){return(t,n,r)=>e.filter(e=>typeof e.show==`function`?e.show(n,r):e.show!==!1).map((e,t)=>{let i=typeof e.disabled==`function`?e.disabled(n,r):e.disabled,a=y(e),o=h(`h-8 px-3 py-1.5 gap-1.5 text-sm font-medium`,e.variant===`destructive`&&`text-destructive hover:text-destructive hover:bg-destructive/10`,e.variant===`default`&&`text-primary hover:text-primary hover:bg-primary/10`,!e.variant&&e.type===`danger`&&`text-destructive hover:text-destructive hover:bg-destructive/10`,!e.variant&&e.type===`primary`&&`text-primary hover:text-primary hover:bg-primary/10`,!e.variant&&!e.type&&`text-foreground hover:text-accent-foreground hover:bg-accent`),s=l(m,{key:t,variant:e.variant||`ghost`,size:`sm`,disabled:i,class:o,onClick:t=>{t.stopPropagation(),e.confirm||e.onClick(n,r)}},()=>[a?l(a,{class:`size-4`}):null,e.text]);return e.confirm?l(_,{key:t,title:e.confirmText||`确认执行此操作？`,onConfirm:()=>e.onClick(n,r)},()=>s):s})}function x(e,t){let n={key:e.key||e.dataIndex||t,dataIndex:e.dataIndex,title:e.title,width:e.width,minWidth:e.minWidth,align:e.align,fixed:e.fixed,ellipsis:e.ellipsis,className:e.className,...e.props};return e.sorter&&(n.sorter=e.sorter,e.defaultSortOrder&&(n.defaultSortOrder=e.defaultSortOrder),e.sortDirections&&(n.sortDirections=e.sortDirections),e.showSorterTooltip!==void 0&&(n.showSorterTooltip=e.showSorterTooltip)),e.filters&&(n.filters=e.filters,e.filterMode&&(n.filterMode=e.filterMode),e.filterMultiple!==void 0&&(n.filterMultiple=e.filterMultiple),e.defaultFilteredValue&&(n.defaultFilteredValue=e.defaultFilteredValue),e.onFilter&&(n.onFilter=e.onFilter)),e.customRender&&(n.customRender=e.customRender),e.customHeaderRender&&(n.customHeaderCell=n=>e.customHeaderRender?.({title:n.title,column:e,index:t})),n}function S(e){let{t}=u(),{columns:n,actions:r,actionTitle:o,actionWidth:s=150,actionFixed:c=`right`}=e,l=a(()=>i(r)||[]),d=a(()=>l.value.length>0);return{tableColumns:a(()=>{let e=(i(n)||[]).map((e,t)=>x(e,t));return d.value&&l.value.length>0&&e.push({key:`action`,title:i(o)||t(`common.actions`),width:i(s),fixed:i(c),align:`center`,render:b(l.value,t)}),e}),showActionColumn:d}}export{S as t};