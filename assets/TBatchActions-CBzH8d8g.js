import{Bi as e,Ha as t,Ii as n,Ka as r,Ki as i,Li as a,Pa as o,Ri as s,Rt as c,Wa as l,Wi as u,i as d,ji as f,la as p,n as m,o as h,pa as g,qa as _,sa as v,sn as y,wa as b,zi as x}from"./index-Bdnse1ke.js";import{t as S}from"./_plugin-vue_export-helper-CuErARa7.js";import{t as C}from"./useResponsive-Drj8-vqi.js";import{t as w}from"./TModal-C-7FBAha.js";var T={class:`flex items-center gap-2`},E={class:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-primary/10 text-primary text-xs font-medium`},D={class:`text-sm text-muted-foreground`},O={class:`flex items-center gap-2`},k={key:1},ee={key:0,class:`w-px h-4 bg-border mx-0.5`},A={key:0},j={class:`flex items-center gap-3 py-2`},M={class:`flex items-center justify-center w-10 h-10 rounded-full bg-destructive/10 shrink-0`},N={class:`flex-1`},P={class:`text-sm text-muted-foreground`},F=S(i({name:`TBatchActions`,__name:`TBatchActions`,props:{count:{},actions:{},total:{},className:{},itemName:{default:`项`},showClear:{type:Boolean,default:!0},clearText:{default:`清除选择`},sticky:{type:Boolean,default:!1},stickyOffset:{default:0},responsive:{}},emits:[`clear`,`actionClick`],setup(i,{expose:S,emit:F}){let I=i,L=F,{smallerThan:R}=C(),z=n(()=>I.responsive||{enabled:!0}),B=n(()=>z.value.enabled!==!1),V=n(()=>z.value.mobileBreakpoint||`md`),H=n(()=>B.value?R(V.value):!1),U=n(()=>H.value&&z.value.collapseActionsOnMobile?q.value.slice(0,1):q.value),W=n(()=>!(H.value&&z.value.hideTextOnMobile)),G=o(!1),K=o(null),q=n(()=>(I.actions||[]).filter(e=>typeof e.show==`function`?e.show():e.show!==!1)),J=n(()=>I.count>0),Y=n(()=>I.total===void 0?`已选 ${I.count} ${I.itemName}`:`已选 ${I.count} / 共 ${I.total} ${I.itemName}`);function X(e){switch(e){case`primary`:return`default`;case`danger`:return`destructive`;case`ghost`:return`ghost`;default:return`outline`}}function Z(e){return typeof e.disabled==`function`?e.disabled():e.disabled===!0}function Q(e){return e.icon?e.icon:e.iconName?d[e.iconName]:null}function te(e){e.confirm?(K.value=e,G.value=!0):(e.onClick(),L(`actionClick`,e))}function ne(){K.value&&=(K.value.onClick(),L(`actionClick`,K.value),null),G.value=!1}function $(){L(`clear`)}function re(){return I.count}function ie(){$()}return S({getCount:re,clearSelection:ie}),(n,o)=>(v(),e(f,null,[J.value?(v(),e(`div`,{key:0,class:l(t(y)(`t-batch-actions flex items-center justify-between gap-4 px-3 py-2 rounded-lg border bg-card ml-auto`,i.sticky&&`sticky z-20`,{"t-batch-actions-mobile":H.value,"t-batch-actions-compact":H.value&&z.value.compactOnMobile},i.className)),style:r(i.sticky?{top:`${i.stickyOffset}px`}:void 0)},[a(`div`,T,[a(`span`,E,_(i.count),1),a(`span`,D,_(Y.value),1)]),a(`div`,O,[(v(!0),e(f,null,p(U.value,(n,r)=>(v(),s(t(m),{key:r,variant:X(n.type),disabled:Z(n),size:`sm`,class:l(t(y)(`gap-1.5`,n.className)),onClick:e=>te(n)},{default:b(()=>[Q(n)?(v(),s(g(Q(n)),{key:0,class:`w-3.5 h-3.5`})):x(``,!0),W.value?(v(),e(`span`,k,_(n.text),1)):x(``,!0)]),_:2},1032,[`variant`,`disabled`,`class`,`onClick`]))),128)),U.value.length>0&&i.showClear?(v(),e(`div`,ee)):x(``,!0),i.showClear?(v(),s(t(m),{key:1,variant:`ghost`,size:`sm`,class:`gap-1.5 text-muted-foreground hover:text-foreground`,onClick:$},{default:b(()=>[u(t(h),{class:`w-3.5 h-3.5`}),W.value?(v(),e(`span`,A,_(i.clearText),1)):x(``,!0)]),_:1})):x(``,!0)])],6)):x(``,!0),u(t(w),{open:G.value,"onUpdate:open":o[0]||=e=>G.value=e,title:K.value?.confirmTitle||`确认操作`,width:`400`,onOk:ne},{default:b(()=>[a(`div`,j,[a(`div`,M,[u(t(c),{class:`w-5 h-5 text-destructive`})]),a(`div`,N,[a(`p`,P,_(K.value?.confirmText||`确定要执行此操作吗？`),1)])])]),_:1},8,[`open`,`title`])],64))}}),[[`__scopeId`,`data-v-097d4b77`]]);export{F as t};