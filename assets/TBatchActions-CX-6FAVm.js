import{Ai as e,Ca as t,Fi as n,Ga as r,Gi as i,Hi as a,Ii as o,Ka as s,Li as c,Na as l,Ri as u,Rt as d,Ua as f,Ui as p,Va as m,ca as h,fa as g,i as _,n as v,o as y,oa as b,sn as x,zi as S}from"./index-D6Cod0pL.js";import{t as C}from"./_plugin-vue_export-helper-Dey4FfNi.js";import{t as w}from"./TModal-OyBXzO5K.js";var T={class:`flex items-center gap-2`},E={class:`inline-flex items-center justify-center w-5 h-5 rounded-full bg-primary/10 text-primary text-xs font-medium`},D={class:`text-sm text-muted-foreground`},O={class:`flex items-center gap-2`},k={key:0,class:`w-px h-4 bg-border mx-0.5`},A={class:`flex items-center gap-3 py-2`},j={class:`flex items-center justify-center w-10 h-10 rounded-full bg-destructive/10 shrink-0`},M={class:`flex-1`},N={class:`text-sm text-muted-foreground`},P=C(i({name:`TBatchActions`,__name:`TBatchActions`,props:{count:{},actions:{},total:{},className:{},itemName:{default:`项`},showClear:{type:Boolean,default:!0},clearText:{default:`清除选择`},sticky:{type:Boolean,default:!1},stickyOffset:{default:0}},emits:[`clear`,`actionClick`],setup(i,{expose:C,emit:P}){let F=i,I=P,L=l(!1),R=l(null),z=n(()=>(F.actions||[]).filter(e=>typeof e.show==`function`?e.show():e.show!==!1)),B=n(()=>F.count>0),V=n(()=>F.total===void 0?`已选 ${F.count} ${F.itemName}`:`已选 ${F.count} / 共 ${F.total} ${F.itemName}`);function H(e){switch(e){case`primary`:return`default`;case`danger`:return`destructive`;case`ghost`:return`ghost`;default:return`outline`}}function U(e){return typeof e.disabled==`function`?e.disabled():e.disabled===!0}function W(e){return e.icon?e.icon:e.iconName?_[e.iconName]:null}function G(e){e.confirm?(R.value=e,L.value=!0):(e.onClick(),I(`actionClick`,e))}function K(){R.value&&=(R.value.onClick(),I(`actionClick`,R.value),null),L.value=!1}function q(){I(`clear`)}function J(){return F.count}function Y(){q()}return C({getCount:J,clearSelection:Y}),(n,l)=>(b(),S(e,null,[B.value?(b(),S(`div`,{key:0,class:f(m(x)(`t-batch-actions flex items-center justify-between gap-4 px-3 py-2 rounded-lg border bg-card ml-auto`,i.sticky&&`sticky z-20`,i.className)),style:r(i.sticky?{top:`${i.stickyOffset}px`}:void 0)},[o(`div`,T,[o(`span`,E,s(i.count),1),o(`span`,D,s(V.value),1)]),o(`div`,O,[(b(!0),S(e,null,h(z.value,(e,n)=>(b(),c(m(v),{key:n,variant:H(e.type),disabled:U(e),size:`sm`,class:f(m(x)(`gap-1.5`,e.className)),onClick:t=>G(e)},{default:t(()=>[W(e)?(b(),c(g(W(e)),{key:0,class:`w-3.5 h-3.5`})):u(``,!0),a(` `+s(e.text),1)]),_:2},1032,[`variant`,`disabled`,`class`,`onClick`]))),128)),z.value.length>0&&i.showClear?(b(),S(`div`,k)):u(``,!0),i.showClear?(b(),c(m(v),{key:1,variant:`ghost`,size:`sm`,class:`gap-1.5 text-muted-foreground hover:text-foreground`,onClick:q},{default:t(()=>[p(m(y),{class:`w-3.5 h-3.5`}),a(` `+s(i.clearText),1)]),_:1})):u(``,!0)])],6)):u(``,!0),p(m(w),{open:L.value,"onUpdate:open":l[0]||=e=>L.value=e,title:R.value?.confirmTitle||`确认操作`,width:`400`,onOk:K},{default:t(()=>[o(`div`,A,[o(`div`,j,[p(m(d),{class:`w-5 h-5 text-destructive`})]),o(`div`,M,[o(`p`,N,s(R.value?.confirmText||`确定要执行此操作吗？`),1)])])]),_:1},8,[`open`,`title`])],64))}}),[[`__scopeId`,`data-v-3dd6ef45`]]);export{P as t};