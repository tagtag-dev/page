import{$i as e,Ai as t,Bi as n,Ca as r,D as i,E as a,Ei as o,Fi as s,Ga as c,Gi as l,Hi as u,Ht as d,I as f,Ia as p,Ii as m,Ja as h,Ka as g,La as _,Li as v,Ma as y,Na as b,Ri as x,Ti as S,Ua as C,Ui as w,V as T,Va as E,Vt as D,Wn as O,Wt as k,Ya as A,_a as ee,b as j,ca as M,ea as te,ia as N,ir as P,la as F,n as I,oa as L,ra as ne,rr as re,sn as ie,va as R,wa as z,ya as B,z as V,zi as H}from"./index-D6Cod0pL.js";import{t as U}from"./_plugin-vue_export-helper-Dey4FfNi.js";import{A as W,B as ae,C as G,D as K,E as oe,F as q,I as J,M as se,O as ce,R as Y,S as le,T as ue,V as de,_ as fe,a as pe,b as X,d as me,g as he,h as ge,i as _e,j as Z,k as ve,l as ye,m as be,n as xe,o as Se,p as Ce,r as we,t as Te,u as Ee,v as De,x as Oe}from"./dist-D3XftLPo.js";import{i as Q,n as ke,r as Ae,t as je}from"./theme-shared-BpTdpb0d.js";import{t as Me}from"./TIcon-C-hNhMC1.js";var Ne=h(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r(ve()):typeof define==`function`&&define.amd?define([`dayjs`],r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_locale_zh_cn=r(n.dayjs)})(e,(function(e){function t(e){return e&&typeof e==`object`&&`default`in e?e:{default:e}}var n=t(e),r={name:`zh-cn`,weekdays:`星期日_星期一_星期二_星期三_星期四_星期五_星期六`.split(`_`),weekdaysShort:`周日_周一_周二_周三_周四_周五_周六`.split(`_`),weekdaysMin:`日_一_二_三_四_五_六`.split(`_`),months:`一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月`.split(`_`),monthsShort:`1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月`.split(`_`),ordinal:function(e,t){return t===`W`?e+`周`:e+`日`},weekStart:1,yearStart:4,formats:{LT:`HH:mm`,LTS:`HH:mm:ss`,L:`YYYY/MM/DD`,LL:`YYYY年M月D日`,LLL:`YYYY年M月D日Ah点mm分`,LLLL:`YYYY年M月D日ddddAh点mm分`,l:`YYYY/M/D`,ll:`YYYY年M月D日`,lll:`YYYY年M月D日 HH:mm`,llll:`YYYY年M月D日dddd HH:mm`},relativeTime:{future:`%s内`,past:`%s前`,s:`几秒`,m:`1 分钟`,mm:`%d 分钟`,h:`1 小时`,hh:`%d 小时`,d:`1 天`,dd:`%d 天`,M:`1 个月`,MM:`%d 个月`,y:`1 年`,yy:`%d 年`},meridiem:function(e,t){var n=100*e+t;return n<600?`凌晨`:n<900?`早上`:n<1100?`上午`:n<1300?`中午`:n<1800?`下午`:`晚上`}};return n.default.locale(r,null,!0),r}))})),Pe=h(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_locale_en=r()})(e,(function(){return{name:`en`,weekdays:`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),months:`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ordinal:function(e){var t=[`th`,`st`,`nd`,`rd`],n=e%100;return`[`+e+(t[(n-20)%10]||t[n]||t[0])+`]`}}}))})),Fe={class:`t-form-list space-y-4`},Ie={class:`flex items-start gap-4`},Le={class:`flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Re=l({__name:`TFormList`,props:{field:{},formData:{},listConfig:{}},setup(e){let{t:n}=P(),i=e,a=0;function o(){return`list-item-${Date.now()}-${++a}`}let c=b([]),l=s({get:()=>i.formData[i.field.name]||[],set:e=>{i.formData[i.field.name]=e}});function d(e){return c.value[e]||(c.value[e]=o()),c.value[e]}function f(){let e={__id:o()};i.listConfig.fields.forEach(t=>{t.defaultValue!==void 0&&(e[t.name]=t.defaultValue)}),c.value.push(e.__id),l.value=[...l.value,e]}function p(e){let t=[...l.value];t.splice(e,1),c.value.splice(e,1),l.value=t}let h=s(()=>!(!i.listConfig.showAdd&&i.listConfig.showAdd!==void 0||i.listConfig.max&&l.value.length>=i.listConfig.max)),_=s(()=>!(!i.listConfig.showRemove&&i.listConfig.showRemove!==void 0||i.listConfig.min&&l.value.length<=i.listConfig.min));function y(){if(!l.value||l.value.length===0){let e=i.listConfig.min||1,t=[],n=[];for(let r=0;r<e;r++){let e=o(),r={__id:e};i.listConfig.fields.forEach(e=>{e.defaultValue!==void 0&&(r[e.name]=e.defaultValue)}),t.push(r),n.push(e)}c.value=n,l.value=t}}return y(),(i,a)=>(L(),H(`div`,Fe,[(L(!0),H(t,null,M(l.value,(n,i)=>(L(),H(`div`,{key:d(i),class:`t-form-list-item p-4 border border-border rounded-lg bg-muted/50`},[m(`div`,Ie,[m(`div`,Le,[(L(!0),H(t,null,M(e.listConfig.fields,t=>(L(),v($,{key:String(t.name),field:{...t,name:[e.field.name,i,t.name]},"form-data":e.formData},null,8,[`field`,`form-data`]))),128))]),_.value?(L(),v(E(I),{key:0,type:`button`,variant:`ghost`,size:`icon`,class:`shrink-0 text-destructive hover:text-destructive`,onClick:e=>p(i)},{default:r(()=>[w(E(j),{class:`h-4 w-4`})]),_:1},8,[`onClick`])):x(``,!0)])]))),128)),h.value?(L(),v(E(I),{key:0,type:`button`,variant:`outline`,class:`w-full`,onClick:f},{default:r(()=>[w(E(T),{class:`h-4 w-4 mr-2`}),u(` `+g(e.listConfig.addText||E(n)(`common.add`)),1)]),_:1})):x(``,!0)]))}}),ze={class:`t-form-group border border-border rounded-lg overflow-hidden bg-card`},Be={class:`font-medium text-sm text-foreground`},Ve={class:`t-form-group-content p-4 space-y-4 bg-background`},He=l({__name:`TFormGroup`,props:{field:{},formData:{},groupConfig:{}},setup(e){let n=e,r=b(n.groupConfig.defaultExpanded!==!1);function i(){n.groupConfig.collapsible!==!1&&(r.value=!r.value)}return(n,a)=>(L(),H(`div`,ze,[m(`div`,{class:C([`t-form-group-header flex items-center justify-between px-4 py-3 bg-muted cursor-pointer border-b border-border`,{"cursor-default":e.groupConfig.collapsible===!1}]),onClick:i},[m(`h4`,Be,g(e.groupConfig.title||e.field.label),1),e.groupConfig.collapsible!==!1&&r.value?(L(),v(E(k),{key:0,class:`h-4 w-4 text-muted-foreground`})):e.groupConfig.collapsible!==!1&&!r.value?(L(),v(E(d),{key:1,class:`h-4 w-4 text-muted-foreground`})):x(``,!0)],2),z(m(`div`,Ve,[(L(!0),H(t,null,M(e.groupConfig.children,t=>(L(),v($,{key:String(t.name),field:t,"form-data":e.formData},null,8,[`field`,`form-data`]))),128))],512),[[o,r.value]])]))}}),Ue={class:`t-tree-wrapper`},We={key:0,class:`t-tree-search mb-3`},Ge={key:1,class:`t-tree-toolbar flex items-center flex-wrap gap-1 mb-3 pb-3 border-b`},Ke={key:2,class:`w-px h-4 bg-border`},qe={class:`t-tree-container`},Je={key:2,class:`t-tree-statistics flex items-center justify-between px-3 py-2 mt-3 bg-muted/30 rounded-lg`},Ye={class:`flex items-center gap-2`},Xe={class:`text-sm text-muted-foreground`},Ze={class:`flex items-center gap-2`},Qe={class:`text-lg font-semibold text-primary`},$e={class:`text-sm text-muted-foreground`},et=U(l({name:`TTree`,__name:`TTree`,props:{treeData:{},modelValue:{},halfCheckedKeys:{},expandedKeys:{},selectedKeys:{},fieldNames:{},checkable:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},showLine:{type:[Boolean,Object],default:!1},showIcon:{type:Boolean,default:!1},switcherIcon:{},blockNode:{type:Boolean,default:!1},height:{},virtual:{type:Boolean,default:!0},rootStyle:{},search:{type:[Boolean,Object],default:!1},toolbar:{type:[Boolean,Object],default:!1},statistics:{type:[Boolean,Object],default:!1},draggable:{type:[Boolean,Function]},loadData:{},titleRender:{}},emits:[`update:modelValue`,`update:halfCheckedKeys`,`update:expandedKeys`,`update:selectedKeys`,`check`,`expand`,`select`,`rightClick`,`dragStart`,`dragEnd`,`dragEnter`,`dragLeave`,`dragOver`,`drop`,`search`],setup(e,{expose:t,emit:o}){let c=e,l=o,u=R(`treeRef`),d=b(c.modelValue||[]),p=b(c.halfCheckedKeys||[]),h=b(c.expandedKeys||[]),_=b(c.selectedKeys||[]),y=b(``);B(()=>c.modelValue,e=>{d.value=e||[]}),B(()=>c.halfCheckedKeys,e=>{p.value=e||[]}),B(()=>c.expandedKeys,e=>{h.value=e||[]}),B(()=>c.selectedKeys,e=>{_.value=e||[]});let S=s(()=>typeof c.search==`boolean`?{enabled:c.search,placeholder:`搜索...`,highlight:!0}:{enabled:!0,placeholder:`搜索...`,highlight:!0,...c.search}),C=s(()=>typeof c.toolbar==`boolean`?{showExpandAll:!0,showCollapseAll:!0,showSelectAll:c.checkable,showClearSelection:c.checkable,expandAllText:`展开全部`,collapseAllText:`折叠全部`,selectAllText:`全选`,clearSelectionText:`清空`}:{showExpandAll:!0,showCollapseAll:!0,showSelectAll:c.checkable,showClearSelection:c.checkable,expandAllText:`展开全部`,collapseAllText:`折叠全部`,selectAllText:`全选`,clearSelectionText:`清空`,...c.toolbar}),T=s(()=>typeof c.statistics==`boolean`?{enabled:c.statistics,label:`已选择`,unit:`项`,showHalfChecked:!c.checkStrictly}:{enabled:!0,label:`已选择`,unit:`项`,showHalfChecked:!c.checkStrictly,...c.statistics}),O=s(()=>({title:c.fieldNames?.title||`title`,key:c.fieldNames?.key||`key`,children:c.fieldNames?.children||`children`,disabled:c.fieldNames?.disabled||`disabled`,isLeaf:c.fieldNames?.isLeaf||`isLeaf`})),A=s(()=>ee(c.treeData));function ee(e){return!e||!Array.isArray(e)?[]:e.map(e=>{let t={key:e[O.value.key]??e.key,title:e[O.value.title]??e.title,disabled:e[O.value.disabled]??e.disabled,isLeaf:e[O.value.isLeaf]??e.isLeaf},n=e[O.value.children]??e.children;return n&&n.length>0&&(t.children=ee(n)),{...e,...t}})}let j=s(()=>!y.value||!S.value.enabled?A.value:M(A.value,y.value));function M(e,t){let n=[];for(let r of e){let e=String(r.title||``),i=S.value.filter?S.value.filter(r,t):e.toLowerCase().includes(t.toLowerCase()),a=r.children?M(r.children,t):[];(i||a.length>0)&&n.push({...r,children:a.length>0?a:r.children})}return n}let te=s(()=>{let e=[],t=n=>{for(let r of n)e.push(r.key),r.children&&r.children.length>0&&t(r.children)};return t(A.value),e}),N=s(()=>{let e=[],t=n=>{for(let r of n)r.children&&r.children.length>0&&(e.push(r.key),t(r.children))};return t(A.value),e}),P=s(()=>d.value.length),I=s(()=>p.value.length);function ne(e,t){c.checkStrictly?(d.value=e.checked||e,p.value=e.halfChecked||[]):(d.value=e,p.value=t.halfCheckedKeys||[]),l(`update:modelValue`,d.value),l(`update:halfCheckedKeys`,p.value),l(`check`,{checkedKeys:d.value,halfCheckedKeys:p.value,checked:t.checked,checkedNodes:t.checkedNodes||[],node:t.node,event:t.event})}function re(e,t){h.value=e,l(`update:expandedKeys`,e),l(`expand`,{expandedKeys:e,expanded:t.expanded,node:t.node})}function ie(e,t){_.value=e,l(`update:selectedKeys`,e),l(`select`,{selectedKeys:e,selected:t.selected,selectedNodes:t.selectedNodes||[],node:t.node,event:t.event})}function z(e){if(y.value=e,l(`search`,e),e&&c.autoExpandParent){let t=V(A.value,e);h.value=t,l(`update:expandedKeys`,t)}}function V(e,t){let n=[],r=(e,i=[])=>{for(let a of e)String(a.title||``).toLowerCase().includes(t.toLowerCase())&&i.length>0&&n.push(...i),a.children&&a.children.length>0&&r(a.children,[...i,a.key])};return r(e),[...new Set(n)]}function U(){h.value=N.value,l(`update:expandedKeys`,h.value)}function W(){h.value=[],l(`update:expandedKeys`,[])}function ae(){c.checkable&&(d.value=[...te.value],l(`update:modelValue`,d.value))}function G(){d.value=[],p.value=[],l(`update:modelValue`,[]),l(`update:halfCheckedKeys`,[])}function K(){return[...d.value]}function oe(e){d.value=e,l(`update:modelValue`,e)}function q(){return[...p.value]}function J(){return[...h.value]}function se(e){h.value=e,l(`update:expandedKeys`,e)}function ce(){return[..._.value]}function le(e){_.value=e,l(`update:selectedKeys`,e)}function ue(e){u.value?.scrollTo({key:String(e)})}function fe(){let e=[],t=n=>{for(let r of n)e.push(r),r.children&&t(r.children)};return t(A.value),e}function pe(){let e=new Set(d.value);return fe().filter(t=>e.has(t.key))}function X(){y.value=``}return t({getCheckedKeys:K,setCheckedKeys:oe,getHalfCheckedKeys:q,getExpandedKeys:J,setExpandedKeys:se,getSelectedKeys:ce,setSelectedKeys:le,expandAll:U,collapseAll:W,selectAll:ae,clearSelection:G,scrollTo:ue,getAllNodes:fe,getCheckedNodes:pe,refresh:X}),(t,o)=>(L(),H(`div`,Ue,[S.value.enabled?(L(),H(`div`,We,[w(E(ge),{value:y.value,"onUpdate:value":o[0]||=e=>y.value=e,placeholder:S.value.placeholder,"allow-clear":``,onChange:o[1]||=e=>z(e.target.value)},{prefix:r(()=>[w(E(f),{class:`w-4 h-4 text-muted-foreground`})]),_:1},8,[`value`,`placeholder`])])):x(``,!0),e.toolbar&&(C.value.showExpandAll||C.value.showCollapseAll||C.value.showSelectAll||C.value.showClearSelection)?(L(),H(`div`,Ge,[C.value.showExpandAll?(L(),v(E(Y),{key:0,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:U},{default:r(()=>[w(E(k),{class:`w-3.5 h-3.5`}),m(`span`,null,g(C.value.expandAllText),1)]),_:1})):x(``,!0),C.value.showCollapseAll?(L(),v(E(Y),{key:1,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:W},{default:r(()=>[w(E(D),{class:`w-3.5 h-3.5`}),m(`span`,null,g(C.value.collapseAllText),1)]),_:1})):x(``,!0),e.checkable&&(C.value.showSelectAll||C.value.showClearSelection)?(L(),H(`div`,Ke)):x(``,!0),e.checkable&&C.value.showSelectAll?(L(),v(E(Y),{key:3,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:ae},{default:r(()=>[w(E(i),{class:`w-3.5 h-3.5`}),m(`span`,null,g(C.value.selectAllText),1)]),_:1})):x(``,!0),e.checkable&&C.value.showClearSelection?(L(),v(E(Y),{key:4,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:G},{default:r(()=>[w(E(a),{class:`w-3.5 h-3.5`}),m(`span`,null,g(C.value.clearSelectionText),1)]),_:1})):x(``,!0)])):x(``,!0),m(`div`,qe,[w(E(ye),{ref_key:`treeRef`,ref:u,"checked-keys":d.value,"onUpdate:checkedKeys":o[2]||=e=>d.value=e,"expanded-keys":h.value,"onUpdate:expandedKeys":o[3]||=e=>h.value=e,"selected-keys":_.value,"onUpdate:selectedKeys":o[4]||=e=>_.value=e,"tree-data":j.value,checkable:e.checkable,"check-strictly":e.checkStrictly,"default-expand-all":e.defaultExpandAll,"auto-expand-parent":e.autoExpandParent,disabled:e.disabled,selectable:e.selectable,multiple:e.multiple,"show-line":e.showLine,"show-icon":e.showIcon,"block-node":e.blockNode,height:e.height,virtual:e.virtual,draggable:e.draggable,"load-data":e.loadData,"root-style":e.rootStyle,"field-names":{title:`title`,key:`key`,children:`children`},onCheck:ne,onExpand:re,onSelect:ie},n({_:2},[t.$slots.titleRender?{name:`titleRender`,fn:r(e=>[F(t.$slots,`titleRender`,{node:e},void 0,!0)]),key:`0`}:void 0,t.$slots.icon?{name:`icon`,fn:r(e=>[F(t.$slots,`icon`,{node:e},void 0,!0)]),key:`1`}:void 0,t.$slots.switcherIcon?{name:`switcherIcon`,fn:r(e=>[F(t.$slots,`switcherIcon`,{node:e},void 0,!0)]),key:`2`}:void 0]),1032,[`checked-keys`,`expanded-keys`,`selected-keys`,`tree-data`,`checkable`,`check-strictly`,`default-expand-all`,`auto-expand-parent`,`disabled`,`selectable`,`multiple`,`show-line`,`show-icon`,`block-node`,`height`,`virtual`,`draggable`,`load-data`,`root-style`])]),T.value.enabled&&e.checkable?(L(),H(`div`,Je,[m(`div`,Ye,[m(`span`,Xe,g(T.value.label),1),T.value.showHalfChecked&&I.value>0?(L(),v(E(de),{key:0,title:`包含 ${I.value} 个半选父节点`},{default:r(()=>[...o[5]||=[m(`span`,{class:`text-xs text-muted-foreground cursor-help`},`(?)`,-1)]]),_:1},8,[`title`])):x(``,!0)]),m(`div`,Ze,[m(`span`,Qe,g(P.value),1),m(`span`,$e,g(T.value.unit),1)])])):x(``,!0)]))}}),[[`__scopeId`,`data-v-78aaeb33`]]),tt={key:28,class:`flex items-center gap-2`},nt=[`disabled`],$=l({__name:`TFormItem`,props:{field:{},formData:{}},setup(n,{expose:i}){let{t:a}=P(),o=n,c=b(!1),l=p([]),d=new Map,f=b(null),h=s(()=>o.field.virtualScroll?o.field.virtualScroll===!0?{enabled:!0,itemHeight:32,overscan:5}:{enabled:o.field.virtualScroll.enabled??!0,itemHeight:o.field.virtualScroll.itemHeight??32,overscan:o.field.virtualScroll.overscan??5}:null),_=s(()=>o.field.optionsDebounce??300),y=s(()=>typeof o.field.disabled==`function`?o.field.disabled(o.formData):o.field.disabled??!1),C=s({get:()=>o.formData[o.field.name],set:e=>{o.formData[o.field.name]=e}}),T=s(()=>typeof o.field.options==`function`),D=s(()=>T.value?l.value:o.field.options||[]);function O(e){let t=o.field.props?.cacheFields;if(t&&t.length>0){let n={};return t.forEach(t=>{n[t]=e[t]}),JSON.stringify(n)}return JSON.stringify(e)}async function k(){T.value&&(f.value&&clearTimeout(f.value),f.value=setTimeout(async()=>{let e=O(o.formData);if(d.has(e)){l.value=d.get(e);return}c.value=!0;try{let t=o.field.options,n=await t(o.formData);if(l.value=n,d.set(e,n),d.size>50){let e=d.keys().next().value;d.delete(e)}}catch(e){console.error(`[TForm] 加载字段 "${o.field.name}" 的选项失败:`,e),l.value=[]}finally{c.value=!1}},_.value))}function A(){d.clear()}B(()=>o.formData,()=>{T.value&&k()},{deep:!0,flush:`post`}),ne(()=>{T.value&&k()}),N(()=>{f.value&&clearTimeout(f.value),d.clear()});let ee=s(()=>{if(o.field.rules)return o.field.rules.map(e=>(o.field.type===`checkbox-single`||o.field.type===`switch`)&&e.required===!0&&!e.validator?{...e,validator:(t,n)=>n===!0?Promise.resolve():Promise.reject(Error(e.message||a(`common.pleaseCheckThis`)))}:e)});return s(()=>[`list`,`group`,`custom`,`color-picker`].includes(o.field.type)),i({clearOptionsCache:A}),(i,o)=>{let s=ge,l=be,d=he,f=G,p=J,_=se,b=Z,T=W,O=oe,k=K,A=Ee,j=le,te=me,N=q,P=Ce,I=Oe,ne=X,re=Se,ie=pe,R=ce,B=we,V=Y,U=xe,ae=_e,de=ue,fe=De;return L(),v(fe,{name:n.field.name,label:n.field.label,rules:ee.value,"label-col":n.field.labelCol,"wrapper-col":n.field.wrapperCol,tooltip:n.field.tooltip,"has-feedback":n.field.hasFeedback,"validate-status":n.field.validateStatus,help:n.field.help,extra:n.field.extra,required:n.field.required,"validate-trigger":n.field.validateTrigger,"validate-debounce":n.field.validateDebounce,"validate-first":n.field.validateFirst,hidden:n.field.hiddenItem,layout:n.field.layout},{default:r(()=>[n.field.type===`input`?(L(),v(s,e({key:0,value:C.value,"onUpdate:value":o[0]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,autocomplete:n.field.props?.autocomplete},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`autocomplete`])):n.field.type===`password`?(L(),v(l,e({key:1,value:C.value,"onUpdate:value":o[1]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,autocomplete:n.field.props?.autocomplete||`current-password`},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`autocomplete`])):n.field.type===`textarea`?(L(),v(d,e({key:2,value:C.value,"onUpdate:value":o[2]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`number`?(L(),v(f,e({key:3,value:C.value,"onUpdate:value":o[3]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`select`?(L(),v(p,e({key:4,value:C.value,"onUpdate:value":o[4]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,options:D.value,loading:c.value,virtual:h.value?.enabled,"list-height":h.value?h.value.itemHeight*10:void 0,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`,`loading`,`virtual`,`list-height`])):n.field.type===`radio`?(L(),v(b,e({key:5,value:C.value,"onUpdate:value":o[5]||=e=>C.value=e,disabled:y.value},n.field.props),{default:r(()=>[(L(!0),H(t,null,M(D.value,e=>(L(),v(_,{key:String(e.value),value:e.value,disabled:e.disabled},{default:r(()=>[u(g(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):n.field.type===`radio-button`?(L(),v(b,e({key:6,value:C.value,"onUpdate:value":o[6]||=e=>C.value=e,disabled:y.value},n.field.props),{default:r(()=>[(L(!0),H(t,null,M(D.value,e=>(L(),v(T,{key:String(e.value),value:e.value,disabled:e.disabled},{default:r(()=>[u(g(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):n.field.type===`checkbox`?(L(),v(k,e({key:7,value:C.value,"onUpdate:value":o[7]||=e=>C.value=e,disabled:y.value},n.field.props),{default:r(()=>[(L(!0),H(t,null,M(D.value,e=>(L(),v(O,{key:String(e.value),value:e.value,disabled:e.disabled},{default:r(()=>[u(g(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):n.field.type===`checkbox-single`?(L(),v(O,e({key:8,checked:C.value,"onUpdate:checked":o[8]||=e=>C.value=e,disabled:y.value},n.field.props),{default:r(()=>[u(g(n.field.props?.label||``),1)]),_:1},16,[`checked`,`disabled`])):n.field.type===`switch`?(L(),v(A,e({key:9,checked:C.value,"onUpdate:checked":o[9]||=e=>C.value=e,disabled:y.value},n.field.props),null,16,[`checked`,`disabled`])):n.field.type===`slider`?(L(),v(j,e({key:10,value:C.value,"onUpdate:value":o[10]||=e=>C.value=e,disabled:y.value,tooltip:n.field.props?.tooltip===void 0?{formatter:null}:n.field.props?.tooltip},n.field.props),null,16,[`value`,`disabled`,`tooltip`])):n.field.type===`rate`?(L(),v(te,e({key:11,value:C.value,"onUpdate:value":o[11]||=e=>C.value=e,disabled:y.value},n.field.props),null,16,[`value`,`disabled`])):n.field.type===`auto-complete`?(L(),v(N,e({key:12,value:C.value,"onUpdate:value":o[12]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,options:D.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`])):n.field.type===`mention`?(L(),v(P,e({key:13,value:C.value,"onUpdate:value":o[13]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,options:D.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`])):n.field.type===`date-picker`?(L(),v(I,e({key:14,value:C.value,"onUpdate:value":o[14]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`month-picker`?(L(),v(I,e({key:15,value:C.value,"onUpdate:value":o[15]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,picker:`month`,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`quarter-picker`?(L(),v(I,e({key:16,value:C.value,"onUpdate:value":o[16]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,picker:`quarter`,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`year-picker`?(L(),v(I,e({key:17,value:C.value,"onUpdate:value":o[17]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,picker:`year`,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`week-picker`?(L(),v(I,e({key:18,value:C.value,"onUpdate:value":o[18]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,picker:`week`,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`range-picker`?(L(),v(ne,e({key:19,value:C.value,"onUpdate:value":o[19]||=e=>C.value=e,disabled:y.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`disabled`])):n.field.type===`time-picker`?(L(),v(re,e({key:20,value:C.value,"onUpdate:value":o[20]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`])):n.field.type===`time-range-picker`?(L(),v(ie,e({key:21,value:C.value,"onUpdate:value":o[21]||=e=>C.value=e,disabled:y.value,style:{width:`100%`}},n.field.props),null,16,[`value`,`disabled`])):n.field.type===`cascader`?(L(),v(R,e({key:22,value:C.value,"onUpdate:value":o[22]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,options:D.value,virtual:h.value?.enabled,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`,`virtual`])):n.field.type===`tree-select`?(L(),v(B,e({key:23,value:C.value,"onUpdate:value":o[23]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,"tree-data":D.value,virtual:h.value?.enabled,style:{width:`100%`}},n.field.props),null,16,[`value`,`placeholder`,`disabled`,`tree-data`,`virtual`])):n.field.type===`tree`?(L(),v(E(et),e({key:24,modelValue:C.value,"onUpdate:modelValue":o[24]||=e=>C.value=e,"tree-data":D.value,disabled:y.value},n.field.props),null,16,[`modelValue`,`tree-data`,`disabled`])):n.field.type===`upload`?(L(),v(U,e({key:25,"file-list":C.value,"onUpdate:fileList":o[25]||=e=>C.value=e,disabled:y.value},n.field.props),{default:r(()=>[n.field.props?.customUpload?x(``,!0):(L(),v(V,{key:0},{icon:r(()=>[...o[31]||=[m(`svg`,{class:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12`})],-1)]]),default:r(()=>[u(` `+g(n.field.props?.uploadText||E(a)(`common.clickToUpload`)),1)]),_:1}))]),_:1},16,[`file-list`,`disabled`])):n.field.type===`transfer`?(L(),v(ae,e({key:26,"target-keys":C.value,"onUpdate:targetKeys":o[26]||=e=>C.value=e,"data-source":D.value,disabled:y.value,render:e=>e.label},n.field.props),null,16,[`target-keys`,`data-source`,`disabled`,`render`])):n.field.type===`segmented`?(L(),v(de,e({key:27,value:C.value,"onUpdate:value":o[27]||=e=>C.value=e,options:D.value,disabled:y.value},n.field.props),null,16,[`value`,`options`,`disabled`])):n.field.type===`color-picker`?(L(),H(`div`,tt,[z(m(`input`,e({"onUpdate:modelValue":o[28]||=e=>C.value=e,type:`color`,disabled:y.value,class:`w-10 h-10 p-0 border rounded cursor-pointer`},n.field.props),null,16,nt),[[S,C.value]]),w(s,e({value:C.value,"onUpdate:value":o[29]||=e=>C.value=e,disabled:y.value,placeholder:n.field.placeholder,style:{width:`120px`}},n.field.props?.inputProps),null,16,[`value`,`disabled`,`placeholder`])])):n.field.type===`icon`?(L(),v(E(Me),{key:29,modelValue:C.value,"onUpdate:modelValue":o[30]||=e=>C.value=e,placeholder:n.field.placeholder,disabled:y.value,size:n.field.props?.size,"show-clear":n.field.props?.showClear??!0,categories:n.field.props?.categories,"exclude-categories":n.field.props?.excludeCategories,"popup-width":n.field.props?.popupWidth,"popup-height":n.field.props?.popupHeight,columns:n.field.props?.columns,"show-category-tabs":n.field.props?.showCategoryTabs??!0},null,8,[`modelValue`,`placeholder`,`disabled`,`size`,`show-clear`,`categories`,`exclude-categories`,`popup-width`,`popup-height`,`columns`,`show-category-tabs`])):n.field.type===`list`&&n.field.listConfig?(L(),v(Re,{key:30,field:n.field,"form-data":n.formData,"list-config":n.field.listConfig},null,8,[`field`,`form-data`,`list-config`])):n.field.type===`group`&&n.field.groupConfig?(L(),v(He,{key:31,field:n.field,"form-data":n.formData,"group-config":n.field.groupConfig},null,8,[`field`,`form-data`,`group-config`])):n.field.type===`custom`?F(i.$slots,n.field.slot,{key:32,field:n.field,value:C.value,disabled:y.value}):x(``,!0)]),_:3},8,[`name`,`label`,`rules`,`label-col`,`wrapper-col`,`tooltip`,`has-feedback`,`validate-status`,`help`,`extra`,`required`,`validate-trigger`,`validate-debounce`,`validate-first`,`hidden`,`layout`])}}});function rt(){let e=O();return s(()=>{let t=e.currentColors,n=e.layoutConfig.radius,r=e.currentMode===`dark`,i=ke(r),a=je(n),o=Ae(t);return{algorithm:r?Te.darkAlgorithm:Te.defaultAlgorithm,token:{colorPrimary:Q(t.primary),colorBgContainer:Q(t.background),colorBgElevated:Q(t.card),colorText:Q(t.foreground),colorTextSecondary:Q(t.mutedForeground),colorBorder:Q(t.border),colorError:Q(t.destructive),borderRadius:a.borderRadius,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,boxShadow:i.boxShadow,boxShadowSecondary:i.boxShadowSecondary,paddingSM:8,padding:12,paddingMD:16,paddingLG:20,paddingXL:24,fontSizeSM:12,fontSize:14,fontSizeLG:16,fontSizeXL:18},components:{...o,Form:{colorTextLabel:Q(t.foreground),colorTextDescription:Q(t.mutedForeground)},Input:{colorBorder:Q(t.input),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorTextPlaceholder:Q(t.mutedForeground),activeShadow:`none`,borderRadius:a.borderRadius},Select:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorTextPlaceholder:Q(t.mutedForeground),colorBgElevated:Q(t.popover),borderRadius:a.borderRadius,boxShadow:i.boxShadow},DatePicker:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorBgElevated:Q(t.popover),colorPrimary:Q(t.primary),borderRadius:a.borderRadius,boxShadow:i.boxShadowSecondary},TimePicker:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorPrimary:Q(t.primary),borderRadius:a.borderRadius},InputNumber:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),borderRadius:a.borderRadius},Cascader:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},TreeSelect:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},Mentions:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorBgElevated:Q(t.popover),borderRadius:a.borderRadius},AutoComplete:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},Slider:{colorPrimary:Q(t.primary),colorBgElevated:Q(t.muted)},Rate:{colorFillContent:Q(t.muted)},Radio:{colorPrimary:Q(t.primary),colorText:Q(t.foreground)},Checkbox:{colorPrimary:Q(t.primary),colorText:Q(t.foreground),colorBgContainer:Q(t.background),colorBorder:Q(t.border)},Switch:{colorPrimary:Q(t.primary)},Upload:{colorText:Q(t.foreground),colorTextDescription:Q(t.mutedForeground)},Transfer:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.card),colorText:Q(t.foreground)},Segmented:{colorBgElevated:Q(t.background),colorText:Q(t.foreground),colorTextLabel:Q(t.foreground),borderRadius:a.borderRadius}}}})}function it(e){try{return _(e)}catch{return e}}function at(e){try{let t=it(e);return JSON.parse(JSON.stringify(t))}catch(t){console.warn(`[useFormMeta] 深拷贝失败，使用浅拷贝`,t);let n=it(e);return Array.isArray(n)?[...n]:{...n}}}function ot(e,t){try{let n=it(e),r=it(t),i=Object.keys(n),a=Object.keys(r);if(i.length!==a.length)return!1;for(let e of i){if(!a.includes(e))return!1;let t=n[e],i=r[e];if(t instanceof Date&&i instanceof Date){if(t.getTime()!==i.getTime())return!1;continue}if(typeof t!=typeof i)return!1;if(typeof t==`object`&&t&&i!==null){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(typeof t[e]==`object`&&t[e]!==null){if(!ot(t[e],i[e]))return!1}else if(t[e]!==i[e])return!1;continue}if(!ot(t,i))return!1;continue}if(t!==i)return!1}return!0}catch(e){return console.warn(`[useFormMeta] 比较对象失败`,e),!1}}function st(){let e=y({dirty:!1,touched:!1,valid:!0,submitting:!1,validating:!1}),t=b({});function n(e){t.value=at(e)}function r(n){e.dirty=!ot(n,t.value)}function i(){e.touched=!0}function a(t){e.valid=t}function o(t){e.submitting=t}function s(t){e.validating=t}function c(){e.dirty=!1,e.touched=!1,e.valid=!0,e.submitting=!1,e.validating=!1,t.value={}}function l(){return{...e}}return{meta:e,initialFormData:t,setInitialData:n,updateMeta:r,markTouched:i,setValid:a,setSubmitting:o,setValidating:s,resetMeta:c,getMetaSnapshot:l}}var ct={enabled:!1,collapsed:!1,collapseThreshold:3,showCollapseButton:!0,collapseButtonText:`Collapse`,expandButtonText:`Expand`,columns:3,gutter:16,searchText:`Search`,resetText:`Reset`,showReset:!0,onSearch:void 0,onReset:void 0};function lt(e){let{schema:t,formData:n,initialCollapsed:r,locale:i}=e,a=s(()=>n instanceof Object&&`value`in n?n.value:n),o=b(r??t.searchConfig?.collapsed??!1),c=s(()=>t.searchConfig?.enabled===!0),l=s(()=>{let e=i?{searchText:i.value.searchText,resetText:i.value.resetText,expandButtonText:i.value.expandButtonText,collapseButtonText:i.value.collapseButtonText}:{};return{...ct,...t.searchConfig,...e}});function u(e){return typeof e.hidden==`function`?e.hidden(a.value):e.hidden??!1}function d(e){if(!e.dependencies)return!0;let{field:t,condition:n}=e.dependencies,r=a.value[t];return n(r,a.value)}let f=s(()=>t.fields.filter(e=>!(u(e)||!d(e)))),p=s(()=>{let e=f.value;return!c.value||!o.value?e:e.slice(0,l.value.collapseThreshold)}),m=s(()=>f.value.length>l.value.collapseThreshold),h=s(()=>f.value.length<=l.value.collapseThreshold+1);function g(){o.value=!o.value}function _(){o.value=!1}function v(){o.value=!0}return{isCollapsed:o,isSearchMode:c,searchConfig:l,visibleFields:f,searchVisibleFields:p,hasMoreFields:m,shouldShowInline:h,toggleCollapse:g,expand:_,collapse:v}}var ut=A(ve(),1);Ne(),Pe();var dt={key:0,class:`search-form-inline`},ft={class:`search-form-fields`},pt={class:`search-form-actions-inline`},mt=[`disabled`],ht=[`data-collapsed`],gt={class:`search-form-actions-collapsed`},_t=[`disabled`],vt=[`data-collapsed`],yt={class:`search-form-actions-expanded`},bt=[`disabled`],xt=[`data-collapsed`],St=l({name:`TForm`,__name:`TForm`,props:{schema:{},modelValue:{default:()=>({})},loading:{type:Boolean,default:!1},embedded:{type:Boolean,default:!1}},emits:[`update:modelValue`,`submit`,`finishFailed`,`reset`,`change`,`fieldsChange`],setup(i,{expose:a,emit:o}){let l=i,d=o,{t:p,locale:h}=P(),_=rt(),S=b(null);async function T(){let e=h.value;S.value=await re(e),ut.default.locale(e===`zh-CN`?`zh-cn`:`en`)}B(h,T,{immediate:!0});let D=ee(),O=b(null),A=y({}),j=y(new Map),N=y(new Map),ne=s(()=>({searchText:p(`common.search`),resetText:p(`common.reset`),expandButtonText:p(`common.expand`),collapseButtonText:p(`common.collapse`)})),{isCollapsed:R,isSearchMode:z,searchConfig:U,visibleFields:W,searchVisibleFields:G,hasMoreFields:K,shouldShowInline:oe,toggleCollapse:q}=lt({schema:l.schema,formData:A,locale:ne}),{meta:J,setInitialData:se,updateMeta:ce,markTouched:Y,setValid:le,setSubmitting:ue,setValidating:de,getMetaSnapshot:pe}=st();function X(e){return Array.isArray(e)?e.join(`.`):String(e)}function me(e,t){let n=X(e);j.set(n,t)}function he(e,t){let n=X(e);N.set(n,t)}function ge(){l.schema.fields.forEach(e=>{let t=e.name;e.defaultValue!==void 0&&A[t]===void 0&&(A[t]=e.defaultValue)}),se(A)}function _e(e){d(`finishFailed`,e)}function Z(){O.value?.resetFields(),z.value&&l.schema.searchConfig?.onReset&&l.schema.searchConfig.onReset(),!z.value&&l.schema.actions?.onReset&&l.schema.actions.onReset(),d(`reset`)}function ve(e){z.value&&l.schema.searchConfig?.onSearch&&l.schema.searchConfig.onSearch(e),d(`submit`,e)}function ye(e,t){d(`fieldsChange`,e,t)}let be={setFieldValue:(e,t)=>{O.value?.setFieldValue(e,t)},getFieldValue:e=>O.value?.getFieldValue(e),setFieldDisabled:me,setFieldHidden:he},xe=s(()=>{let e=[];return l.schema.fields.forEach(t=>{t.watch&&t.watch.length>0&&t.watch.forEach(n=>{e.push({field:X(t.name),watch:n})})}),e});function Se(e){Object.assign(A,e),Y(),ce(A),te(()=>{xe.value.forEach(({watch:t})=>{let n=t.field;if(n in e){let e=A[n];t.handler(e,{...A},be)}})}),d(`update:modelValue`,{...A}),d(`change`,e,{...A})}let Ce=s(()=>{if(l.schema.layout===`horizontal`)return{offset:l.schema.labelCol?.span||0,span:l.schema.wrapperCol?.span||24}});return a({validate:e=>O.value?e&&e.length>0?O.value.validateFields(e):O.value.validateFields():Promise.reject(Error(`表单实例未初始化`)),validateFields:e=>O.value?e&&e.length>0?O.value.validateFields(e):O.value.validateFields():Promise.reject(Error(`表单实例未初始化`)),resetFields:e=>{O.value?.resetFields(e)},clearValidate:e=>{O.value?.clearValidate(e)},getFieldValue:e=>O.value?.getFieldValue(e),getFieldsValue:e=>O.value?.getFieldsValue(e)||{},setFieldValue:(e,t)=>{O.value?.setFieldValue(e,t)},setFieldsValue:e=>{O.value?.setFieldsValue(e)},setFieldDisabled:me,getMeta:pe,isDirty:()=>J.dirty,isTouched:()=>J.touched,isValid:()=>J.valid,getFormInstance:()=>O.value??void 0}),B(()=>l.modelValue,e=>{e&&Object.assign(A,e)},{immediate:!0,deep:!0}),B(()=>l.schema,()=>{ge()},{deep:!0}),ge(),(a,o)=>{let s=De,d=fe;return S.value?(L(),v(E(ae),{key:0,theme:E(_),locale:S.value},{default:r(()=>[w(d,{ref_key:`formRef`,ref:O,model:A,layout:E(z)?`inline`:i.schema.layout,"label-col":E(z)?void 0:i.schema.labelCol,"wrapper-col":E(z)?void 0:i.schema.wrapperCol,"label-align":i.schema.labelAlign,size:i.schema.size,disabled:i.schema.disabled||i.loading,colon:i.schema.colon,variant:i.schema.variant,"validate-trigger":i.schema.validateTrigger,"validate-messages":i.schema.validateMessages,preserve:i.schema.preserve,"clear-on-destroy":i.schema.clearOnDestroy,"scroll-to-first-error":i.schema.scrollToFirstError,class:C(E(ie)(`t-form`,{"t-form-search":E(z),"t-form-collapsed":E(z)&&E(R)},a.$attrs.class)),onFinish:ve,onFinishFailed:_e,onValuesChange:Se,onFieldsChange:ye},{default:r(()=>[E(z)?(L(),H(t,{key:0},[E(oe)?(L(),H(`div`,dt,[m(`div`,ft,[(L(!0),H(t,null,M(E(G),t=>(L(),v($,{key:String(t.name),field:t,"form-data":A,class:`search-form-item-inline`},n({_:2},[t.type===`custom`&&t.slot&&E(D)[t.slot]?{name:t.slot,fn:r(n=>[F(a.$slots,t.slot,e({ref_for:!0},n))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128))]),m(`div`,pt,[m(`button`,{type:`submit`,disabled:i.loading,class:`inline-flex items-center justify-center rounded-md bg-primary px-3 py-[5px] text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50`},[w(E(f),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).searchText),1)],8,mt),E(U).showReset?(L(),H(`button`,{key:0,type:`button`,class:`inline-flex items-center justify-center rounded-md border border-input bg-background px-3 py-[5px] text-sm font-medium text-foreground hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2`,onClick:Z},[w(E(V),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).resetText),1)])):x(``,!0),E(U).showCollapseButton&&E(K)?(L(),H(`button`,{key:1,type:`button`,class:`collapse-btn`,"data-collapsed":E(R),onClick:o[0]||=(...e)=>E(q)&&E(q)(...e)},[u(g(E(R)?E(U).expandButtonText:E(U).collapseButtonText)+` `,1),w(E(k),{class:`chevron-icon w-4 h-4 ml-1`})],8,ht)):x(``,!0)])])):(L(),H(t,{key:1},[E(R)?(L(),H(`div`,{key:0,class:`search-form-container search-form-collapsed-row`,style:c({display:`grid`,gridTemplateColumns:`repeat(${E(U).columns}, minmax(0, 1fr))`,gap:`${E(U).gutter}px`})},[(L(!0),H(t,null,M(E(G),t=>(L(),v($,{key:String(t.name),field:t,"form-data":A,class:`search-form-item`},n({_:2},[t.type===`custom`&&t.slot&&E(D)[t.slot]?{name:t.slot,fn:r(n=>[F(a.$slots,t.slot,e({ref_for:!0},n))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),m(`div`,gt,[m(`button`,{type:`submit`,disabled:i.loading,class:`search-btn-collapsed`},[w(E(f),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).searchText),1)],8,_t),E(U).showReset?(L(),H(`button`,{key:0,type:`button`,class:`reset-btn-collapsed`,onClick:Z},[w(E(V),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).resetText),1)])):x(``,!0),E(U).showCollapseButton&&E(K)?(L(),H(`button`,{key:1,type:`button`,class:`collapse-btn collapse-btn-inline`,"data-collapsed":E(R),onClick:o[1]||=(...e)=>E(q)&&E(q)(...e)},[u(g(E(U).expandButtonText)+` `,1),w(E(k),{class:`chevron-icon w-4 h-4 ml-1`})],8,vt)):x(``,!0)])],4)):(L(),H(`div`,{key:1,class:`search-form-container search-form-expanded-row`,style:c({display:`grid`,gridTemplateColumns:`repeat(${E(U).columns}, minmax(0, 1fr))`,gap:`${E(U).gutter}px`})},[(L(!0),H(t,null,M(E(G),t=>(L(),v($,{key:String(t.name),field:t,"form-data":A,class:`search-form-item`},n({_:2},[t.type===`custom`&&t.slot&&E(D)[t.slot]?{name:t.slot,fn:r(n=>[F(a.$slots,t.slot,e({ref_for:!0},n))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),m(`div`,yt,[m(`button`,{type:`submit`,disabled:i.loading,class:`search-btn-expanded`},[w(E(f),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).searchText),1)],8,bt),E(U).showReset?(L(),H(`button`,{key:0,type:`button`,class:`reset-btn-expanded`,onClick:Z},[w(E(V),{class:`w-4 h-4 mr-1`}),u(` `+g(E(U).resetText),1)])):x(``,!0),E(U).showCollapseButton&&E(K)?(L(),H(`button`,{key:1,type:`button`,class:`collapse-btn collapse-btn-inline`,"data-collapsed":E(R),onClick:o[2]||=(...e)=>E(q)&&E(q)(...e)},[u(g(E(U).collapseButtonText)+` `,1),w(E(k),{class:`chevron-icon w-4 h-4 ml-1`})],8,xt)):x(``,!0)])],4))],64))],64)):(L(),H(t,{key:1},[i.schema.columns&&i.schema.columns>1?(L(),H(`div`,{key:0,class:`t-form-grid`,style:c({display:`grid`,gridTemplateColumns:`repeat(${i.schema.columns}, 1fr)`,gap:`16px 24px`})},[(L(!0),H(t,null,M(E(W),t=>(L(),v($,{key:String(t.name),field:t,"form-data":A,style:{"margin-bottom":`0`}},n({_:2},[t.type===`custom`&&t.slot&&E(D)[t.slot]?{name:t.slot,fn:r(n=>[F(a.$slots,t.slot,e({ref_for:!0},n))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128))],4)):(L(!0),H(t,{key:1},M(E(W),t=>(L(),v($,{key:String(t.name),field:t,"form-data":A},n({_:2},[t.type===`custom`&&t.slot&&E(D)[t.slot]?{name:t.slot,fn:r(n=>[F(a.$slots,t.slot,e({ref_for:!0},n))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),!l.embedded&&(i.schema.actions?.showSubmit!==!1||i.schema.actions?.showReset)?(L(),v(s,{key:2,"wrapper-col":Ce.value,class:C({"t-form-actions-fullwidth":i.schema.columns&&i.schema.columns>1})},{default:r(()=>[m(`div`,{class:C(E(ie)(`flex gap-2`,{"justify-start":i.schema.actions?.align===`left`,"justify-center":i.schema.actions?.align===`center`,"justify-end":!i.schema.actions?.align||i.schema.actions?.align===`right`}))},[i.schema.actions?.showSubmit===!1?x(``,!0):(L(),v(E(I),{key:0,type:`submit`,loading:i.loading},{default:r(()=>[u(g(i.schema.actions?.submitText||E(p)(`common.submit`)),1)]),_:1},8,[`loading`])),i.schema.actions?.showReset?(L(),v(E(I),{key:1,type:`button`,variant:`outline`,onClick:Z},{default:r(()=>[u(g(i.schema.actions?.resetText||E(p)(`common.reset`)),1)]),_:1})):x(``,!0)],2)]),_:1},8,[`wrapper-col`,`class`])):x(``,!0)],64))]),_:3},8,[`model`,`layout`,`label-col`,`wrapper-col`,`label-align`,`size`,`disabled`,`colon`,`variant`,`validate-trigger`,`validate-messages`,`preserve`,`clear-on-destroy`,`scroll-to-first-error`,`class`])]),_:3},8,[`theme`,`locale`])):x(``,!0)}}});export{et as n,St as t};