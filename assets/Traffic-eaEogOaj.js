import"./ScrollArea-CW0-18Hy.js";import"./button-Bo4o88Eb.js";import"./Presence-CX2vXdhf.js";import{Bi as e,Di as t,Ea as n,Gi as r,Ti as i,Ui as a,V as o,Yi as s,_i as c,a as l,ct as u,fi as d,ga as f,ka as p,kn as m,oa as h,p as g,vi as _,wa as v,wi as y,xi as b,yi as x}from"./index-D9LA8apy.js";import"./badge-DoBLqkFL.js";import{n as S,t as C}from"./CardContent-bGWyUVF7.js";import{n as w,t as T}from"./CardTitle-9YsRePqj.js";import{a as E}from"./bento-CMxr9-Yq.js";var D={class:`space-y-6`},O={class:`flex flex-wrap gap-3`},k={class:`flex items-baseline gap-2`},A={class:`text-lg font-semibold`},j={class:`text-xs text-muted-foreground`},M={class:`text-xs text-green-500`},N={class:`grid grid-cols-1 lg:grid-cols-2 gap-6`},P={class:`h-[300px] flex flex-col justify-center`},F={key:1,class:`flex items-center justify-center text-muted-foreground h-full`},I={class:`text-center`},L={class:`mt-4 flex justify-between text-xs text-muted-foreground`},R={class:`h-[300px] flex flex-col justify-center`},z={key:1,class:`flex items-center justify-center text-muted-foreground h-full`},B={class:`text-center`},V={class:`mt-4 flex justify-between text-xs text-muted-foreground`},H=t({__name:`Traffic`,setup(t){let H=f({totalVisits:0,uniqueVisitors:0,pageViews:0,avgDuration:`0:00`,bounceRate:`0%`,growth:0}),U=f([]),W=c(()=>[{title:`总访问量`,value:H.value.totalVisits.toLocaleString(),icon:u,color:`text-blue-500`,trend:`+12.5%`},{title:`独立访客`,value:H.value.uniqueVisitors.toLocaleString(),icon:l,color:`text-green-500`,trend:`+8.3%`},{title:`页面浏览量`,value:H.value.pageViews.toLocaleString(),icon:o,color:`text-purple-500`,trend:`+15.2%`},{title:`平均停留`,value:H.value.avgDuration,icon:g,color:`text-orange-500`,trend:`+5.1%`}]),G=async()=>{try{let e=await m.getCoreMetrics(`7d`),t=await m.getTrafficData(`7d`);H.value={totalVisits:e.totalVisits,uniqueVisitors:e.newUsers*10,pageViews:e.totalVisits*3,avgDuration:`3:42`,bounceRate:`42.3%`,growth:e.visitsChange},U.value=t}catch(e){console.error(`获取流量数据失败:`,e)}};return e(()=>{G()}),(e,t)=>(a(),b(`div`,D,[t[4]||=_(`div`,{class:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`},[_(`div`,null,[_(`h1`,{class:`text-3xl font-bold tracking-tight`},`流量分析`),_(`p`,{class:`text-muted-foreground mt-1.5 text-sm`},`分析网站访问流量和用户行为`)])],-1),_(`div`,O,[(a(!0),b(d,null,r(v(W),e=>(a(),b(`div`,{key:e.title,class:`flex items-center gap-3 px-4 py-2.5 bg-muted/50 rounded-lg hover:bg-muted/70 transition-colors`},[(a(),x(s(e.icon),{class:n([`h-4 w-4`,e.color])},null,8,[`class`])),_(`div`,k,[_(`span`,A,p(e.value),1),_(`span`,j,p(e.title),1),_(`span`,M,p(e.trend),1)])]))),128))]),_(`div`,N,[i(v(S),{class:`border-0 shadow-sm`},{default:h(()=>[i(v(w),null,{default:h(()=>[i(v(T),{class:`text-base`},{default:h(()=>[...t[0]||=[y(`访问趋势`,-1)]]),_:1})]),_:1}),i(v(C),null,{default:h(()=>[_(`div`,P,[v(U).length>0?(a(),x(v(E),{key:0,type:`line`,data:v(U).map(e=>e.visits/100),color:`bg-blue-500`,height:200},null,8,[`data`])):(a(),b(`div`,F,[_(`div`,I,[i(v(g),{class:`w-12 h-12 mx-auto mb-2 opacity-50`}),t[1]||=_(`p`,null,`加载中...`,-1)])])),_(`div`,L,[(a(!0),b(d,null,r(v(U),(e,t)=>(a(),b(`span`,{key:t},p(e.day),1))),128))])])]),_:1})]),_:1}),i(v(S),{class:`border-0 shadow-sm`},{default:h(()=>[i(v(w),null,{default:h(()=>[i(v(T),{class:`text-base`},{default:h(()=>[...t[2]||=[y(`订单趋势`,-1)]]),_:1})]),_:1}),i(v(C),null,{default:h(()=>[_(`div`,R,[v(U).length>0?(a(),x(v(E),{key:0,type:`bar`,data:v(U).map(e=>e.orders),color:`bg-green-500`,height:200},null,8,[`data`])):(a(),b(`div`,z,[_(`div`,B,[i(v(o),{class:`w-12 h-12 mx-auto mb-2 opacity-50`}),t[3]||=_(`p`,null,`加载中...`,-1)])])),_(`div`,V,[(a(!0),b(d,null,r(v(U),(e,t)=>(a(),b(`span`,{key:t},p(e.day),1))),128))])])]),_:1})]),_:1})])]))}});export{H as default};