import{Ct as e,Et as t,F as n,Fi as r,H as i,Ji as a,N as o,P as s,Tt as c,Va as l,b as u,bt as d,ir as f,kt as p,n as m,sn as h,xt as g}from"./index-D6Cod0pL.js";import{f as _}from"./dist-D3XftLPo.js";var v={编辑:i,修改:i,删除:u,查看:g,详情:c,详情页:d,设置:n,下载:t,分享:s,复制:p,跳转:e,权限:o};function y(e){return e.icon?e.icon:v[e.text]||null}function b(e,t){return(t,n,r)=>e.filter(e=>typeof e.show==`function`?e.show(n,r):e.show!==!1).map((e,t)=>{let i=typeof e.disabled==`function`?e.disabled(n,r):e.disabled,o=y(e),s=h(`h-8 px-3 py-1.5 gap-1.5 text-sm font-medium`,e.variant===`destructive`&&`text-destructive hover:text-destructive hover:bg-destructive/10`,e.variant===`default`&&`text-primary hover:text-primary hover:bg-primary/10`,!e.variant&&e.type===`danger`&&`text-destructive hover:text-destructive hover:bg-destructive/10`,!e.variant&&e.type===`primary`&&`text-primary hover:text-primary hover:bg-primary/10`,!e.variant&&!e.type&&`text-foreground hover:text-accent-foreground hover:bg-accent`),c=a(m,{key:t,variant:e.variant||`ghost`,size:`sm`,disabled:i,class:s,onClick:t=>{t.stopPropagation(),e.confirm||e.onClick(n,r)}},()=>[o?a(o,{class:`size-4`}):null,e.text]);return e.confirm?a(_,{key:t,title:e.confirmText||`确认执行此操作？`,onConfirm:()=>e.onClick(n,r)},()=>c):c})}function x(e,t){let n={key:e.key||e.dataIndex||t,dataIndex:e.dataIndex,title:e.title,width:e.width,minWidth:e.minWidth,align:e.align,fixed:e.fixed,ellipsis:e.ellipsis,className:e.className,...e.props};return e.sorter&&(n.sorter=e.sorter,e.defaultSortOrder&&(n.defaultSortOrder=e.defaultSortOrder),e.sortDirections&&(n.sortDirections=e.sortDirections),e.showSorterTooltip!==void 0&&(n.showSorterTooltip=e.showSorterTooltip)),e.filters&&(n.filters=e.filters,e.filterMode&&(n.filterMode=e.filterMode),e.filterMultiple!==void 0&&(n.filterMultiple=e.filterMultiple),e.defaultFilteredValue&&(n.defaultFilteredValue=e.defaultFilteredValue),e.onFilter&&(n.onFilter=e.onFilter)),e.customRender&&(n.customRender=e.customRender),e.customHeaderRender&&(n.customHeaderCell=n=>e.customHeaderRender?.({title:n.title,column:e,index:t})),n}function S(e){let{t}=f(),{columns:n,actions:i,actionTitle:a,actionWidth:o=150,actionFixed:s=`right`}=e,c=r(()=>l(i)||[]),u=r(()=>c.value.length>0);return{tableColumns:r(()=>{let e=(l(n)||[]).map((e,t)=>x(e,t));return u.value&&c.value.length>0&&e.push({key:`action`,title:l(a)||t(`common.actions`),width:l(o),fixed:l(s),align:`center`,render:b(c.value,t)}),e}),showActionColumn:u}}export{S as t};