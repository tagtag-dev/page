import{Bi as e,Ca as t,Fi as n,Gi as r,Li as i,Na as a,Ri as o,Ua as s,Ui as c,Va as l,Wa as u,Wn as d,ir as f,la as p,oa as m,qi as h,rr as g,sn as _,ya as v}from"./index-D6Cod0pL.js";import{B as y,L as b,t as x}from"./dist-D3XftLPo.js";import{i as S,n as C,r as w,t as T}from"./theme-shared-BpTdpb0d.js";function E(){let e=d();return n(()=>{let t=e.currentColors,n=e.layoutConfig.radius,r=e.currentMode===`dark`,i=C(r),a=T(n),o=w(t);return{algorithm:r?x.darkAlgorithm:x.defaultAlgorithm,token:{colorPrimary:S(t.primary),colorBgContainer:S(t.background),colorBgElevated:S(t.card),colorText:S(t.foreground),colorTextSecondary:S(t.mutedForeground),colorBorder:S(t.border),colorError:S(t.destructive),borderRadius:a.borderRadius,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,boxShadow:i.boxShadowTertiary,boxShadowSecondary:i.boxShadowTertiary,paddingSM:8,padding:12,paddingMD:16,paddingLG:20,paddingXL:24,fontSizeSM:12,fontSize:14,fontSizeLG:16,fontSizeXL:18},components:{...o,Modal:{colorBgElevated:S(t.card),colorText:S(t.foreground),colorTextHeading:S(t.foreground),colorBorder:S(t.border),colorPrimary:S(t.primary),borderRadius:a.borderRadiusLG,boxShadow:i.boxShadowTertiary},Button:{colorPrimary:S(t.primary),colorPrimaryHover:S(t.primary),colorPrimaryActive:S(t.primary),colorText:S(t.foreground),colorBgContainer:S(t.background),colorBorder:S(t.border),boxShadow:`none`,borderRadius:a.borderRadius}}}})}var D=r({name:`TModal`,__name:`TModal`,props:{open:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},footer:{type:[Boolean,Function,String,Number,null,Object],default:void 0},class:{},rootClass:{},rootStyle:{},classes:{},styles:{},formRef:{default:void 0},closeOnSubmitSuccess:{type:Boolean,default:!1},title:{type:[String,Function,Number,null,Object,Boolean]},width:{default:520},centered:{type:Boolean,default:!1},mask:{type:[Object,Boolean],default:!0},maskClosable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},destroyOnHidden:{type:Boolean,default:!1},okText:{type:[String,Function,Number,null,Object,Boolean],default:void 0},cancelText:{type:[String,Function,Number,null,Object,Boolean],default:void 0},okType:{default:`primary`},okButtonProps:{},cancelButtonProps:{},closable:{type:[Boolean,Object],default:!0},closeIcon:{type:[Function,String,Number,null,Object,Boolean]},style:{},wrapClassName:{},zIndex:{default:1e3},modalRender:{},forceRender:{type:Boolean,default:!1},getContainer:{type:[String,Function,Boolean]},transitionName:{},maskTransitionName:{},focusTriggerAfterClose:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:[`update:open`,`ok`,`cancel`,`afterClose`,`afterOpenChange`,`submit`],setup(r,{expose:d,emit:x}){let{locale:S}=f(),C=a(null);async function w(){let e=S.value;C.value=await g(e)}v(S,w,{immediate:!0});let T=r,D=x,O=a(T.open),k=a(T.confirmLoading);v(()=>T.open,e=>{O.value=e},{immediate:!0}),v(()=>T.confirmLoading,e=>{k.value=e},{immediate:!0});let A=n(()=>{if(typeof T.class==`string`)return T.class;if(Array.isArray(T.class))return _(T.class)}),j=E();async function M(e){let t=T.formRef?l(T.formRef):void 0;if(t)try{k.value=!0,D(`submit`,await t.validate()),D(`ok`,e),T.closeOnSubmitSuccess&&R()}catch(e){console.log(`表单验证失败:`,e)}finally{k.value=!1}else D(`ok`,e)}function N(e){D(`cancel`,e),D(`update:open`,!1)}function P(e){O.value=e,D(`update:open`,e)}function F(){D(`afterClose`)}function I(e){D(`afterOpenChange`,e)}function L(){O.value=!0,D(`update:open`,!0)}function R(){O.value=!1,D(`update:open`,!1)}function z(e){k.value=e}function B(){return O.value}return d({open:L,close:R,setConfirmLoading:z,isOpen:B}),(n,a)=>C.value?(m(),i(l(y),{key:0,locale:C.value,theme:l(j)},{default:t(()=>[c(l(b),{open:O.value,title:r.title,width:r.width,centered:r.centered,mask:r.mask,"mask-closable":r.maskClosable,keyboard:r.keyboard,"destroy-on-hidden":r.destroyOnHidden,"ok-text":r.okText,"cancel-text":r.cancelText,"ok-type":r.okType,"ok-button-props":r.okButtonProps,"cancel-button-props":r.cancelButtonProps,closable:r.closable,"close-icon":r.closeIcon,"confirm-loading":k.value,"z-index":r.zIndex,footer:typeof r.footer==`boolean`?r.footer?void 0:null:r.footer,"force-render":r.forceRender,"get-container":r.getContainer,"transition-name":r.transitionName,"mask-transition-name":r.maskTransitionName,"focus-trigger-after-close":r.focusTriggerAfterClose,loading:r.loading,"modal-render":r.modalRender,"root-class":r.rootClass,"root-style":r.rootStyle,classes:r.classes,styles:r.styles,class:s(l(_)(`t-modal`,A.value)),"wrap-class-name":r.wrapClassName,onOk:M,onCancel:N,"onUpdate:open":P,onAfterClose:F,onAfterOpenChange:I},e({default:t(()=>[p(n.$slots,`default`)]),_:2},[n.$slots.title?{name:`title`,fn:t(()=>[p(n.$slots,`title`)]),key:`0`}:void 0,n.$slots.footer?{name:`footer`,fn:t(e=>[p(n.$slots,`footer`,u(h(e)))]),key:`1`}:void 0,n.$slots.okText?{name:`okText`,fn:t(()=>[p(n.$slots,`okText`)]),key:`2`}:void 0,n.$slots.cancelText?{name:`cancelText`,fn:t(()=>[p(n.$slots,`cancelText`)]),key:`3`}:void 0,n.$slots.closeIcon?{name:`closeIcon`,fn:t(()=>[p(n.$slots,`closeIcon`)]),key:`4`}:void 0,n.$slots.modalRender?{name:`modalRender`,fn:t(({node:e})=>[p(n.$slots,`modalRender`,{node:e})]),key:`5`}:void 0]),1032,`open.title.width.centered.mask.mask-closable.keyboard.destroy-on-hidden.ok-text.cancel-text.ok-type.ok-button-props.cancel-button-props.closable.close-icon.confirm-loading.z-index.footer.force-render.get-container.transition-name.mask-transition-name.focus-trigger-after-close.loading.modal-render.root-class.root-style.classes.styles.class.wrap-class-name`.split(`.`))]),_:3},8,[`locale`,`theme`])):o(``,!0)}});export{D as t};