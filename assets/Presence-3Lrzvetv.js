import{An as e,Bn as t,Fi as n,Gi as r,Ji as i,Ki as a,Na as o,ea as s,fn as c,ia as l,mn as u,ya as d,za as f,zn as p}from"./index-D6Cod0pL.js";var[m,h]=t(`ConfigProvider`);function g(e){let t=m({dir:o(`ltr`)});return n(()=>e?.value||t.dir?.value||`ltr`)}function _(e,t){let n=o(e);function r(e){return t[n.value][e]??n.value}return{state:n,dispatch:e=>{n.value=r(e)}}}function v(t,r){let i=o({}),a=o(`none`),u=o(t),f=t.value?`mounted`:`unmounted`,p,m=r.value?.ownerDocument.defaultView??c,{state:h,dispatch:g}=_(f,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}}),v=t=>{if(e){let e=new CustomEvent(t,{bubbles:!1,cancelable:!1});r.value?.dispatchEvent(e)}};d(t,async(e,t)=>{let n=t!==e;if(await s(),n){let n=a.value,o=y(r.value);e?(g(`MOUNT`),v(`enter`),o===`none`&&v(`after-enter`)):o===`none`||o===`undefined`||i.value?.display===`none`?(g(`UNMOUNT`),v(`leave`),v(`after-leave`)):t&&n!==o?(g(`ANIMATION_OUT`),v(`leave`)):(g(`UNMOUNT`),v(`after-leave`))}},{immediate:!0});let b=e=>{let t=y(r.value),n=t.includes(CSS.escape(e.animationName)),i=h.value===`mounted`?`enter`:`leave`;if(e.target===r.value&&n&&(v(`after-${i}`),g(`ANIMATION_END`),!u.value)){let e=r.value.style.animationFillMode;r.value.style.animationFillMode=`forwards`,p=m?.setTimeout(()=>{r.value?.style.animationFillMode===`forwards`&&(r.value.style.animationFillMode=e)})}e.target===r.value&&t===`none`&&g(`ANIMATION_END`)},x=e=>{e.target===r.value&&(a.value=y(r.value))},S=d(r,(e,t)=>{e?(i.value=getComputedStyle(e),e.addEventListener(`animationstart`,x),e.addEventListener(`animationcancel`,b),e.addEventListener(`animationend`,b)):(g(`ANIMATION_END`),p!==void 0&&m?.clearTimeout(p),t?.removeEventListener(`animationstart`,x),t?.removeEventListener(`animationcancel`,b),t?.removeEventListener(`animationend`,b))},{immediate:!0}),C=d(h,()=>{let e=y(r.value);a.value=h.value===`mounted`?e:`none`});return l(()=>{S(),C()}),{isPresent:n(()=>[`mounted`,`unmountSuspended`].includes(h.value))}}function y(e){return e&&getComputedStyle(e).animationName||`none`}var b=r({name:`Presence`,props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){let{present:r,forceMount:s}=f(e),c=o(),{isPresent:l}=v(r,c);n({present:l});let d=t.default({present:l.value});d=p(d||[]);let m=a();if(d&&d?.length>1){let e=m?.parent?.type.name?`<${m.parent.type.name} />`:`component`;throw Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,``,"Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.",`You can apply a few solutions:`,["Provide a single child element so that `presence` directive attach correctly.",`Ensure the first child is an actual element instead of a raw text node or comment node.`].map(e=>`  - ${e}`).join(`
`)].join(`
`))}return()=>s.value||r.value||l.value?i(t.default({present:l.value})[0],{ref:e=>{let t=u(e);return t?.hasAttribute===void 0||(t?.hasAttribute(`data-reka-popper-content-wrapper`)?c.value=t.firstElementChild:c.value=t),t}}):null}});export{m as i,_ as n,g as r,b as t};