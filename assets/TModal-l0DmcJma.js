import{Bn as e,Da as t,Di as n,Dn as r,Ea as i,Ki as a,Kt as o,Si as s,Ti as c,Ui as l,_i as u,bi as d,ga as f,ki as p,na as m,oa as h,wa as g,yi as _,zn as v}from"./index-D9LA8apy.js";import{I as y,R as b,t as x}from"./dist-guKItzxh.js";var S={"oklch(0.205 0 0)":`#171717`,"oklch(0.985 0 0)":`#fafafa`,"oklch(0.97 0 0)":`#f5f5f5`,"oklch(0.145 0 0)":`#262626`,"oklch(1 0 0)":`#ffffff`,"oklch(0.556 0 0)":`#737373`,"oklch(0.922 0 0)":`#e5e5e5`,"oklch(0.708 0 0)":`#a3a3a3`,"oklch(0.577 0.245 27.325)":`#dc2626`,"oklch(0.269 0 0)":`#404040`,"oklch(0.546 0.245 262.881)":`#2563eb`,"oklch(0.527 0.154 150.069)":`#16a34a`,"oklch(0.558 0.288 302.321)":`#9333ea`,"oklch(0.646 0.222 41.116)":`#ea580c`,"oklch(0.606 0.285 349.5)":`#db2777`,"oklch(0.6 0.118 184.704)":`#0891b2`,"oklch(0.511 0.262 276.5)":`#4f46e5`,"oklch(0.769 0.188 70.08)":`#ca8a04`,"oklch(0.696 0.17 162.48)":`#059669`,"oklch(0.75 0.18 85)":`#d97706`,"oklch(1 0 0 / 10%)":`rgba(255, 255, 255, 0.1)`,"oklch(1 0 0 / 15%)":`rgba(255, 255, 255, 0.15)`,"oklch(0.704 0.191 22.216)":`#ef4444`};function C(e){if(S[e])return S[e];if(e.includes(`/`)){let t=e.split(` /`)[0].trim();if(S[t])return S[t]}return console.warn(`[TModal Theme] 无法转换颜色: ${e}，请添加到 colorMap`),e}function w(){let e=r();return u(()=>{let t=e.currentColors,n=e.layoutConfig.radius;return{algorithm:e.currentMode===`dark`?x.darkAlgorithm:x.defaultAlgorithm,token:{colorPrimary:C(t.primary),colorBgContainer:C(t.background),colorBgElevated:C(t.card),colorText:C(t.foreground),colorTextSecondary:C(t.mutedForeground),colorBorder:C(t.border),colorError:C(t.destructive),borderRadius:n*16,borderRadiusSM:n*12,borderRadiusLG:n*20,paddingSM:8,padding:12,paddingMD:16,paddingLG:20,paddingXL:24,fontSizeSM:12,fontSize:14,fontSizeLG:16,fontSizeXL:18},components:{Modal:{colorBgElevated:C(t.card),colorText:C(t.foreground),colorTextHeading:C(t.foreground),colorBorder:C(t.border),colorPrimary:C(t.primary)},Button:{colorPrimary:C(t.primary),colorPrimaryHover:C(t.primary),colorPrimaryActive:C(t.primary),colorText:C(t.foreground),colorBgContainer:C(t.background),colorBorder:C(t.border)}}}})}var T=n({name:`TModal`,__name:`TModal`,props:{open:{type:Boolean,default:!1},confirmLoading:{type:Boolean,default:!1},footer:{type:[Function,String,Number,null,Object,Boolean]},class:{},rootClass:{},rootStyle:{},classes:{},styles:{},title:{type:[String,Function,Number,null,Object,Boolean]},width:{default:520},centered:{type:Boolean,default:!1},mask:{type:[Object,Boolean],default:!0},maskClosable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},destroyOnHidden:{type:Boolean,default:!1},okText:{type:[String,Function,Number,null,Object,Boolean],default:void 0},cancelText:{type:[String,Function,Number,null,Object,Boolean],default:void 0},okType:{default:`primary`},okButtonProps:{},cancelButtonProps:{},closable:{type:[Boolean,Object],default:!0},closeIcon:{type:[Function,String,Number,null,Object,Boolean]},style:{},wrapClassName:{},zIndex:{default:1e3},modalRender:{},forceRender:{type:Boolean,default:!1},getContainer:{type:[String,Function,Boolean]},transitionName:{},maskTransitionName:{},focusTriggerAfterClose:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:[`update:open`,`ok`,`cancel`,`afterClose`,`afterOpenChange`],setup(n,{expose:r,emit:x}){let{locale:S}=e(),C=f(null);async function T(){let e=S.value;C.value=await v(e)}m(S,T,{immediate:!0});let E=n,D=x,O=f(E.open),k=f(E.confirmLoading);m(()=>E.open,e=>{O.value=e},{immediate:!0}),m(()=>E.confirmLoading,e=>{k.value=e},{immediate:!0});let A=u(()=>{if(typeof E.class==`string`)return E.class;if(Array.isArray(E.class))return o(E.class)}),j=w();function M(e){D(`ok`,e)}function N(e){D(`cancel`,e),D(`update:open`,!1)}function P(e){O.value=e,D(`update:open`,e)}function F(){D(`afterClose`)}function I(e){D(`afterOpenChange`,e)}function L(){O.value=!0,D(`update:open`,!0)}function R(){O.value=!1,D(`update:open`,!1)}function z(e){k.value=e}function B(){return O.value}return r({open:L,close:R,setConfirmLoading:z,isOpen:B}),(e,r)=>C.value?(l(),_(g(b),{key:0,locale:C.value,theme:g(j)},{default:h(()=>[c(g(y),{open:O.value,title:n.title,width:n.width,centered:n.centered,mask:n.mask,"mask-closable":n.maskClosable,keyboard:n.keyboard,"destroy-on-hidden":n.destroyOnHidden,"ok-text":n.okText,"cancel-text":n.cancelText,"ok-type":n.okType,"ok-button-props":n.okButtonProps,"cancel-button-props":n.cancelButtonProps,closable:n.closable,"close-icon":n.closeIcon,"confirm-loading":k.value,"z-index":n.zIndex,footer:n.footer,"force-render":n.forceRender,"get-container":n.getContainer,"transition-name":n.transitionName,"mask-transition-name":n.maskTransitionName,"focus-trigger-after-close":n.focusTriggerAfterClose,loading:n.loading,"modal-render":n.modalRender,"root-class":n.rootClass,"root-style":n.rootStyle,classes:n.classes,styles:n.styles,class:i(g(o)(`t-modal`,A.value)),"wrap-class-name":n.wrapClassName,onOk:M,onCancel:N,"onUpdate:open":P,onAfterClose:F,onAfterOpenChange:I},s({default:h(()=>[a(e.$slots,`default`)]),_:2},[e.$slots.title?{name:`title`,fn:h(()=>[a(e.$slots,`title`)]),key:`0`}:void 0,e.$slots.footer?{name:`footer`,fn:h(n=>[a(e.$slots,`footer`,t(p(n)))]),key:`1`}:void 0,e.$slots.okText?{name:`okText`,fn:h(()=>[a(e.$slots,`okText`)]),key:`2`}:void 0,e.$slots.cancelText?{name:`cancelText`,fn:h(()=>[a(e.$slots,`cancelText`)]),key:`3`}:void 0,e.$slots.closeIcon?{name:`closeIcon`,fn:h(()=>[a(e.$slots,`closeIcon`)]),key:`4`}:void 0,e.$slots.modalRender?{name:`modalRender`,fn:h(({node:t})=>[a(e.$slots,`modalRender`,{node:t})]),key:`5`}:void 0]),1032,`open.title.width.centered.mask.mask-closable.keyboard.destroy-on-hidden.ok-text.cancel-text.ok-type.ok-button-props.cancel-button-props.closable.close-icon.confirm-loading.z-index.footer.force-render.get-container.transition-name.mask-transition-name.focus-trigger-after-close.loading.modal-render.root-class.root-style.classes.styles.class.wrap-class-name`.split(`.`))]),_:3},8,[`locale`,`theme`])):d(``,!0)}});export{T as t};