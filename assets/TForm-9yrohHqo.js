import{Bi as e,D as t,Di as n,E as r,Ei as i,Gn as a,Ha as o,Ht as s,I as c,Ii as l,Ka as u,Ki as d,La as f,Li as p,Na as m,Pa as h,Ra as g,Ri as _,Ta as v,Ui as y,V as b,Vi as x,Vt as S,Wa as C,Wi as w,Wt as T,Xa as E,Ya as D,aa as O,ar as k,b as A,ba as j,ea as M,ia as ee,ir as N,ji as P,la as F,n as I,qa as L,sa as R,sn as te,ta as ne,ua as z,va as re,wa as B,ya as ie,z as V,zi as H}from"./index-DX59uxwP.js";import{t as U}from"./_plugin-vue_export-helper-CuErARa7.js";import{A as ae,B as oe,C as W,D as G,E as K,F as se,I as ce,M as le,O as q,R as J,S as Y,T as ue,V as X,_ as de,a as fe,b as pe,d as Z,g as me,h as he,i as ge,j as _e,k as ve,l as ye,m as be,n as xe,o as Se,p as Ce,r as we,t as Te,u as Ee,v as De,x as Oe}from"./dist-C2ERyVuF.js";import{i as Q,n as ke,r as Ae,t as je}from"./theme-shared-Cg7vXLFh.js";import{t as Me}from"./useResponsive-BcMiRh3c.js";import{t as Ne}from"./TIcon-Bi65ixMm.js";var Pe=D(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r(ve()):typeof define==`function`&&define.amd?define([`dayjs`],r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_locale_zh_cn=r(n.dayjs)})(e,(function(e){function t(e){return e&&typeof e==`object`&&`default`in e?e:{default:e}}var n=t(e),r={name:`zh-cn`,weekdays:`星期日_星期一_星期二_星期三_星期四_星期五_星期六`.split(`_`),weekdaysShort:`周日_周一_周二_周三_周四_周五_周六`.split(`_`),weekdaysMin:`日_一_二_三_四_五_六`.split(`_`),months:`一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月`.split(`_`),monthsShort:`1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月`.split(`_`),ordinal:function(e,t){return t===`W`?e+`周`:e+`日`},weekStart:1,yearStart:4,formats:{LT:`HH:mm`,LTS:`HH:mm:ss`,L:`YYYY/MM/DD`,LL:`YYYY年M月D日`,LLL:`YYYY年M月D日Ah点mm分`,LLLL:`YYYY年M月D日ddddAh点mm分`,l:`YYYY/M/D`,ll:`YYYY年M月D日`,lll:`YYYY年M月D日 HH:mm`,llll:`YYYY年M月D日dddd HH:mm`},relativeTime:{future:`%s内`,past:`%s前`,s:`几秒`,m:`1 分钟`,mm:`%d 分钟`,h:`1 小时`,hh:`%d 小时`,d:`1 天`,dd:`%d 天`,M:`1 个月`,MM:`%d 个月`,y:`1 年`,yy:`%d 年`},meridiem:function(e,t){var n=100*e+t;return n<600?`凌晨`:n<900?`早上`:n<1100?`上午`:n<1300?`中午`:n<1800?`下午`:`晚上`}};return n.default.locale(r,null,!0),r}))})),Fe=D(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_locale_en=r()})(e,(function(){return{name:`en`,weekdays:`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),months:`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ordinal:function(e){var t=[`th`,`st`,`nd`,`rd`],n=e%100;return`[`+e+(t[(n-20)%10]||t[n]||t[0])+`]`}}}))})),Ie={class:`t-form-list space-y-4`},Le={class:`flex items-start gap-4`},Re={class:`flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},ze=d({__name:`TFormList`,props:{field:{},formData:{},listConfig:{}},setup(t){let{t:n}=k(),r=t,i=0;function a(){return`list-item-${Date.now()}-${++i}`}let s=h([]),c=l({get:()=>r.formData[r.field.name]||[],set:e=>{r.formData[r.field.name]=e}});function u(e){return s.value[e]||(s.value[e]=a()),s.value[e]}function d(){let e={__id:a()};r.listConfig.fields.forEach(t=>{t.defaultValue!==void 0&&(e[t.name]=t.defaultValue)}),s.value.push(e.__id),c.value=[...c.value,e]}function f(e){let t=[...c.value];t.splice(e,1),s.value.splice(e,1),c.value=t}let m=l(()=>!(!r.listConfig.showAdd&&r.listConfig.showAdd!==void 0||r.listConfig.max&&c.value.length>=r.listConfig.max)),g=l(()=>!(!r.listConfig.showRemove&&r.listConfig.showRemove!==void 0||r.listConfig.min&&c.value.length<=r.listConfig.min));function v(){if(!c.value||c.value.length===0){let e=r.listConfig.min||1,t=[],n=[];for(let i=0;i<e;i++){let e=a(),i={__id:e};r.listConfig.fields.forEach(e=>{e.defaultValue!==void 0&&(i[e.name]=e.defaultValue)}),t.push(i),n.push(e)}s.value=n,c.value=t}}return v(),(r,i)=>(R(),e(`div`,Ie,[(R(!0),e(P,null,F(c.value,(n,r)=>(R(),e(`div`,{key:u(r),class:`t-form-list-item p-4 border border-border rounded-lg bg-muted/50`},[p(`div`,Le,[p(`div`,Re,[(R(!0),e(P,null,F(t.listConfig.fields,e=>(R(),_($,{key:String(e.name),field:{...e,name:[t.field.name,r,e.name]},"form-data":t.formData},null,8,[`field`,`form-data`]))),128))]),g.value?(R(),_(o(I),{key:0,type:`button`,variant:`ghost`,size:`icon`,class:`shrink-0 text-destructive hover:text-destructive`,onClick:e=>f(r)},{default:B(()=>[w(o(A),{class:`h-4 w-4`})]),_:1},8,[`onClick`])):H(``,!0)])]))),128)),m.value?(R(),_(o(I),{key:0,type:`button`,variant:`outline`,class:`w-full`,onClick:d},{default:B(()=>[w(o(b),{class:`h-4 w-4 mr-2`}),y(` `+L(t.listConfig.addText||o(n)(`common.add`)),1)]),_:1})):H(``,!0)]))}}),Be={class:`t-form-group border border-border rounded-lg overflow-hidden bg-card`},Ve={class:`font-medium text-sm text-foreground`},He={class:`t-form-group-content p-4 space-y-4 bg-background`},Ue=d({__name:`TFormGroup`,props:{field:{},formData:{},groupConfig:{}},setup(t){let r=t,i=h(r.groupConfig.defaultExpanded!==!1);function a(){r.groupConfig.collapsible!==!1&&(i.value=!i.value)}return(r,c)=>(R(),e(`div`,Be,[p(`div`,{class:C([`t-form-group-header flex items-center justify-between px-4 py-3 bg-muted cursor-pointer border-b border-border`,{"cursor-default":t.groupConfig.collapsible===!1}]),onClick:a},[p(`h4`,Ve,L(t.groupConfig.title||t.field.label),1),t.groupConfig.collapsible!==!1&&i.value?(R(),_(o(T),{key:0,class:`h-4 w-4 text-muted-foreground`})):t.groupConfig.collapsible!==!1&&!i.value?(R(),_(o(s),{key:1,class:`h-4 w-4 text-muted-foreground`})):H(``,!0)],2),v(p(`div`,He,[(R(!0),e(P,null,F(t.groupConfig.children,e=>(R(),_($,{key:String(e.name),field:e,"form-data":t.formData},null,8,[`field`,`form-data`]))),128))],512),[[n,i.value]])]))}}),We={class:`t-tree-wrapper`},Ge={key:0,class:`t-tree-search mb-3`},Ke={key:1,class:`t-tree-toolbar flex items-center flex-wrap gap-1 mb-3 pb-3 border-b`},qe={key:2,class:`w-px h-4 bg-border`},Je={class:`t-tree-container`},Ye={key:2,class:`t-tree-statistics flex items-center justify-between px-3 py-2 mt-3 bg-muted/30 rounded-lg`},Xe={class:`flex items-center gap-2`},Ze={class:`text-sm text-muted-foreground`},Qe={class:`flex items-center gap-2`},$e={class:`text-lg font-semibold text-primary`},et={class:`text-sm text-muted-foreground`},tt=U(d({name:`TTree`,__name:`TTree`,props:{treeData:{},modelValue:{},halfCheckedKeys:{},expandedKeys:{},selectedKeys:{},fieldNames:{},checkable:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},defaultExpandAll:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},showLine:{type:[Boolean,Object],default:!1},showIcon:{type:Boolean,default:!1},switcherIcon:{},blockNode:{type:Boolean,default:!1},height:{},virtual:{type:Boolean,default:!0},rootStyle:{},search:{type:[Boolean,Object],default:!1},toolbar:{type:[Boolean,Object],default:!1},statistics:{type:[Boolean,Object],default:!1},draggable:{type:[Boolean,Function]},loadData:{},titleRender:{}},emits:[`update:modelValue`,`update:halfCheckedKeys`,`update:expandedKeys`,`update:selectedKeys`,`check`,`expand`,`select`,`rightClick`,`dragStart`,`dragEnd`,`dragEnter`,`dragLeave`,`dragOver`,`drop`,`search`],setup(n,{expose:i,emit:a}){let s=n,u=a,d=ie(`treeRef`),f=h(s.modelValue||[]),m=h(s.halfCheckedKeys||[]),g=h(s.expandedKeys||[]),v=h(s.selectedKeys||[]),y=h(``);j(()=>s.modelValue,e=>{f.value=e||[]}),j(()=>s.halfCheckedKeys,e=>{m.value=e||[]}),j(()=>s.expandedKeys,e=>{g.value=e||[]}),j(()=>s.selectedKeys,e=>{v.value=e||[]});let b=l(()=>typeof s.search==`boolean`?{enabled:s.search,placeholder:`搜索...`,highlight:!0}:{enabled:!0,placeholder:`搜索...`,highlight:!0,...s.search}),C=l(()=>typeof s.toolbar==`boolean`?{showExpandAll:!0,showCollapseAll:!0,showSelectAll:s.checkable,showClearSelection:s.checkable,expandAllText:`展开全部`,collapseAllText:`折叠全部`,selectAllText:`全选`,clearSelectionText:`清空`}:{showExpandAll:!0,showCollapseAll:!0,showSelectAll:s.checkable,showClearSelection:s.checkable,expandAllText:`展开全部`,collapseAllText:`折叠全部`,selectAllText:`全选`,clearSelectionText:`清空`,...s.toolbar}),E=l(()=>typeof s.statistics==`boolean`?{enabled:s.statistics,label:`已选择`,unit:`项`,showHalfChecked:!s.checkStrictly}:{enabled:!0,label:`已选择`,unit:`项`,showHalfChecked:!s.checkStrictly,...s.statistics}),D=l(()=>({title:s.fieldNames?.title||`title`,key:s.fieldNames?.key||`key`,children:s.fieldNames?.children||`children`,disabled:s.fieldNames?.disabled||`disabled`,isLeaf:s.fieldNames?.isLeaf||`isLeaf`})),O=l(()=>k(s.treeData));function k(e){return!e||!Array.isArray(e)?[]:e.map(e=>{let t={key:e[D.value.key]??e.key,title:e[D.value.title]??e.title,disabled:e[D.value.disabled]??e.disabled,isLeaf:e[D.value.isLeaf]??e.isLeaf},n=e[D.value.children]??e.children;return n&&n.length>0&&(t.children=k(n)),{...e,...t}})}let A=l(()=>!y.value||!b.value.enabled?O.value:M(O.value,y.value));function M(e,t){let n=[];for(let r of e){let e=String(r.title||``),i=b.value.filter?b.value.filter(r,t):e.toLowerCase().includes(t.toLowerCase()),a=r.children?M(r.children,t):[];(i||a.length>0)&&n.push({...r,children:a.length>0?a:r.children})}return n}let ee=l(()=>{let e=[],t=n=>{for(let r of n)e.push(r.key),r.children&&r.children.length>0&&t(r.children)};return t(O.value),e}),N=l(()=>{let e=[],t=n=>{for(let r of n)r.children&&r.children.length>0&&(e.push(r.key),t(r.children))};return t(O.value),e}),P=l(()=>f.value.length),F=l(()=>m.value.length);function I(e,t){s.checkStrictly?(f.value=e.checked||e,m.value=e.halfChecked||[]):(f.value=e,m.value=t.halfCheckedKeys||[]),u(`update:modelValue`,f.value),u(`update:halfCheckedKeys`,m.value),u(`check`,{checkedKeys:f.value,halfCheckedKeys:m.value,checked:t.checked,checkedNodes:t.checkedNodes||[],node:t.node,event:t.event})}function te(e,t){g.value=e,u(`update:expandedKeys`,e),u(`expand`,{expandedKeys:e,expanded:t.expanded,node:t.node})}function ne(e,t){v.value=e,u(`update:selectedKeys`,e),u(`select`,{selectedKeys:e,selected:t.selected,selectedNodes:t.selectedNodes||[],node:t.node,event:t.event})}function re(e){if(y.value=e,u(`search`,e),e&&s.autoExpandParent){let t=V(O.value,e);g.value=t,u(`update:expandedKeys`,t)}}function V(e,t){let n=[],r=(e,i=[])=>{for(let a of e)String(a.title||``).toLowerCase().includes(t.toLowerCase())&&i.length>0&&n.push(...i),a.children&&a.children.length>0&&r(a.children,[...i,a.key])};return r(e),[...new Set(n)]}function U(){g.value=N.value,u(`update:expandedKeys`,g.value)}function ae(){g.value=[],u(`update:expandedKeys`,[])}function oe(){s.checkable&&(f.value=[...ee.value],u(`update:modelValue`,f.value))}function W(){f.value=[],m.value=[],u(`update:modelValue`,[]),u(`update:halfCheckedKeys`,[])}function G(){return[...f.value]}function K(e){f.value=e,u(`update:modelValue`,e)}function se(){return[...m.value]}function ce(){return[...g.value]}function le(e){g.value=e,u(`update:expandedKeys`,e)}function q(){return[...v.value]}function Y(e){v.value=e,u(`update:selectedKeys`,e)}function ue(e){d.value?.scrollTo({key:String(e)})}function de(){let e=[],t=n=>{for(let r of n)e.push(r),r.children&&t(r.children)};return t(O.value),e}function fe(){let e=new Set(f.value);return de().filter(t=>e.has(t.key))}function pe(){y.value=``}return i({getCheckedKeys:G,setCheckedKeys:K,getHalfCheckedKeys:se,getExpandedKeys:ce,setExpandedKeys:le,getSelectedKeys:q,setSelectedKeys:Y,expandAll:U,collapseAll:ae,selectAll:oe,clearSelection:W,scrollTo:ue,getAllNodes:de,getCheckedNodes:fe,refresh:pe}),(i,a)=>(R(),e(`div`,We,[b.value.enabled?(R(),e(`div`,Ge,[w(o(he),{value:y.value,"onUpdate:value":a[0]||=e=>y.value=e,placeholder:b.value.placeholder,"allow-clear":``,onChange:a[1]||=e=>re(e.target.value)},{prefix:B(()=>[w(o(c),{class:`w-4 h-4 text-muted-foreground`})]),_:1},8,[`value`,`placeholder`])])):H(``,!0),n.toolbar&&(C.value.showExpandAll||C.value.showCollapseAll||C.value.showSelectAll||C.value.showClearSelection)?(R(),e(`div`,Ke,[C.value.showExpandAll?(R(),_(o(J),{key:0,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:U},{default:B(()=>[w(o(T),{class:`w-3.5 h-3.5`}),p(`span`,null,L(C.value.expandAllText),1)]),_:1})):H(``,!0),C.value.showCollapseAll?(R(),_(o(J),{key:1,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:ae},{default:B(()=>[w(o(S),{class:`w-3.5 h-3.5`}),p(`span`,null,L(C.value.collapseAllText),1)]),_:1})):H(``,!0),n.checkable&&(C.value.showSelectAll||C.value.showClearSelection)?(R(),e(`div`,qe)):H(``,!0),n.checkable&&C.value.showSelectAll?(R(),_(o(J),{key:3,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:oe},{default:B(()=>[w(o(t),{class:`w-3.5 h-3.5`}),p(`span`,null,L(C.value.selectAllText),1)]),_:1})):H(``,!0),n.checkable&&C.value.showClearSelection?(R(),_(o(J),{key:4,type:`text`,size:`small`,class:`t-tree-toolbar-btn`,onClick:W},{default:B(()=>[w(o(r),{class:`w-3.5 h-3.5`}),p(`span`,null,L(C.value.clearSelectionText),1)]),_:1})):H(``,!0)])):H(``,!0),p(`div`,Je,[w(o(ye),{ref_key:`treeRef`,ref:d,"checked-keys":f.value,"onUpdate:checkedKeys":a[2]||=e=>f.value=e,"expanded-keys":g.value,"onUpdate:expandedKeys":a[3]||=e=>g.value=e,"selected-keys":v.value,"onUpdate:selectedKeys":a[4]||=e=>v.value=e,"tree-data":A.value,checkable:n.checkable,"check-strictly":n.checkStrictly,"default-expand-all":n.defaultExpandAll,"auto-expand-parent":n.autoExpandParent,disabled:n.disabled,selectable:n.selectable,multiple:n.multiple,"show-line":n.showLine,"show-icon":n.showIcon,"block-node":n.blockNode,height:n.height,virtual:n.virtual,draggable:n.draggable,"load-data":n.loadData,"root-style":n.rootStyle,"field-names":{title:`title`,key:`key`,children:`children`},onCheck:I,onExpand:te,onSelect:ne},x({_:2},[i.$slots.titleRender?{name:`titleRender`,fn:B(e=>[z(i.$slots,`titleRender`,{node:e},void 0,!0)]),key:`0`}:void 0,i.$slots.icon?{name:`icon`,fn:B(e=>[z(i.$slots,`icon`,{node:e},void 0,!0)]),key:`1`}:void 0,i.$slots.switcherIcon?{name:`switcherIcon`,fn:B(e=>[z(i.$slots,`switcherIcon`,{node:e},void 0,!0)]),key:`2`}:void 0]),1032,[`checked-keys`,`expanded-keys`,`selected-keys`,`tree-data`,`checkable`,`check-strictly`,`default-expand-all`,`auto-expand-parent`,`disabled`,`selectable`,`multiple`,`show-line`,`show-icon`,`block-node`,`height`,`virtual`,`draggable`,`load-data`,`root-style`])]),E.value.enabled&&n.checkable?(R(),e(`div`,Ye,[p(`div`,Xe,[p(`span`,Ze,L(E.value.label),1),E.value.showHalfChecked&&F.value>0?(R(),_(o(X),{key:0,title:`包含 ${F.value} 个半选父节点`},{default:B(()=>[...a[5]||=[p(`span`,{class:`text-xs text-muted-foreground cursor-help`},`(?)`,-1)]]),_:1},8,[`title`])):H(``,!0)]),p(`div`,Qe,[p(`span`,$e,L(P.value),1),p(`span`,et,L(E.value.unit),1)])])):H(``,!0)]))}}),[[`__scopeId`,`data-v-78aaeb33`]]),nt={key:28,class:`flex items-center gap-2`},rt=[`disabled`],$=d({__name:`TFormItem`,props:{field:{},formData:{}},setup(t,{expose:n}){let{t:r}=k(),a=t,s=h(!1),c=f([]),u=new Map,d=h(null),m=l(()=>a.field.virtualScroll?a.field.virtualScroll===!0?{enabled:!0,itemHeight:32,overscan:5}:{enabled:a.field.virtualScroll.enabled??!0,itemHeight:a.field.virtualScroll.itemHeight??32,overscan:a.field.virtualScroll.overscan??5}:null),g=l(()=>a.field.optionsDebounce??300),b=l(()=>typeof a.field.disabled==`function`?a.field.disabled(a.formData):a.field.disabled??!1),x=l({get:()=>a.formData[a.field.name],set:e=>{a.formData[a.field.name]=e}}),S=l(()=>typeof a.field.options==`function`),C=l(()=>S.value?c.value:a.field.options||[]);function T(e){let t=a.field.props?.cacheFields;if(t&&t.length>0){let n={};return t.forEach(t=>{n[t]=e[t]}),JSON.stringify(n)}return JSON.stringify(e)}async function E(){S.value&&(d.value&&clearTimeout(d.value),d.value=setTimeout(async()=>{let e=T(a.formData);if(u.has(e)){c.value=u.get(e);return}s.value=!0;try{let t=a.field.options,n=await t(a.formData);if(c.value=n,u.set(e,n),u.size>50){let e=u.keys().next().value;u.delete(e)}}catch(e){console.error(`[TForm] 加载字段 "${a.field.name}" 的选项失败:`,e),c.value=[]}finally{s.value=!1}},g.value))}function D(){u.clear()}j(()=>a.formData,()=>{S.value&&E()},{deep:!0,flush:`post`}),ee(()=>{S.value&&E()}),O(()=>{d.value&&clearTimeout(d.value),u.clear()});let A=l(()=>{if(a.field.rules)return a.field.rules.map(e=>(a.field.type===`checkbox-single`||a.field.type===`switch`)&&e.required===!0&&!e.validator?{...e,validator:(t,n)=>n===!0?Promise.resolve():Promise.reject(Error(e.message||r(`common.pleaseCheckThis`)))}:e)});return l(()=>[`list`,`group`,`custom`,`color-picker`].includes(a.field.type)),n({clearOptionsCache:D}),(n,a)=>{let c=he,l=be,u=me,d=W,f=ce,h=le,g=_e,S=ae,T=K,E=G,D=Ee,O=Y,k=Z,j=se,ee=Ce,N=Oe,I=pe,te=Se,ne=fe,re=q,ie=we,V=J,U=xe,oe=ge,X=ue,de=De;return R(),_(de,{name:t.field.name,label:t.field.label,rules:A.value,"label-col":t.field.labelCol,"wrapper-col":t.field.wrapperCol,tooltip:t.field.tooltip,"has-feedback":t.field.hasFeedback,"validate-status":t.field.validateStatus,help:t.field.help,extra:t.field.extra,required:t.field.required,"validate-trigger":t.field.validateTrigger,"validate-debounce":t.field.validateDebounce,"validate-first":t.field.validateFirst,hidden:t.field.hiddenItem,layout:t.field.layout},{default:B(()=>[t.field.type===`input`?(R(),_(c,M({key:0,value:x.value,"onUpdate:value":a[0]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,autocomplete:t.field.props?.autocomplete},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`autocomplete`])):t.field.type===`password`?(R(),_(l,M({key:1,value:x.value,"onUpdate:value":a[1]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,autocomplete:t.field.props?.autocomplete||`current-password`},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`autocomplete`])):t.field.type===`textarea`?(R(),_(u,M({key:2,value:x.value,"onUpdate:value":a[2]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`number`?(R(),_(d,M({key:3,value:x.value,"onUpdate:value":a[3]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`select`?(R(),_(f,M({key:4,value:x.value,"onUpdate:value":a[4]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,options:C.value,loading:s.value,virtual:m.value?.enabled,"list-height":m.value?m.value.itemHeight*10:void 0,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`,`loading`,`virtual`,`list-height`])):t.field.type===`radio`?(R(),_(g,M({key:5,value:x.value,"onUpdate:value":a[5]||=e=>x.value=e,disabled:b.value},t.field.props),{default:B(()=>[(R(!0),e(P,null,F(C.value,e=>(R(),_(h,{key:String(e.value),value:e.value,disabled:e.disabled},{default:B(()=>[y(L(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):t.field.type===`radio-button`?(R(),_(g,M({key:6,value:x.value,"onUpdate:value":a[6]||=e=>x.value=e,disabled:b.value},t.field.props),{default:B(()=>[(R(!0),e(P,null,F(C.value,e=>(R(),_(S,{key:String(e.value),value:e.value,disabled:e.disabled},{default:B(()=>[y(L(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):t.field.type===`checkbox`?(R(),_(E,M({key:7,value:x.value,"onUpdate:value":a[7]||=e=>x.value=e,disabled:b.value},t.field.props),{default:B(()=>[(R(!0),e(P,null,F(C.value,e=>(R(),_(T,{key:String(e.value),value:e.value,disabled:e.disabled},{default:B(()=>[y(L(e.label),1)]),_:2},1032,[`value`,`disabled`]))),128))]),_:1},16,[`value`,`disabled`])):t.field.type===`checkbox-single`?(R(),_(T,M({key:8,checked:x.value,"onUpdate:checked":a[8]||=e=>x.value=e,disabled:b.value},t.field.props),{default:B(()=>[y(L(t.field.props?.label||``),1)]),_:1},16,[`checked`,`disabled`])):t.field.type===`switch`?(R(),_(D,M({key:9,checked:x.value,"onUpdate:checked":a[9]||=e=>x.value=e,disabled:b.value},t.field.props),null,16,[`checked`,`disabled`])):t.field.type===`slider`?(R(),_(O,M({key:10,value:x.value,"onUpdate:value":a[10]||=e=>x.value=e,disabled:b.value,tooltip:t.field.props?.tooltip===void 0?{formatter:null}:t.field.props?.tooltip},t.field.props),null,16,[`value`,`disabled`,`tooltip`])):t.field.type===`rate`?(R(),_(k,M({key:11,value:x.value,"onUpdate:value":a[11]||=e=>x.value=e,disabled:b.value},t.field.props),null,16,[`value`,`disabled`])):t.field.type===`auto-complete`?(R(),_(j,M({key:12,value:x.value,"onUpdate:value":a[12]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,options:C.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`])):t.field.type===`mention`?(R(),_(ee,M({key:13,value:x.value,"onUpdate:value":a[13]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,options:C.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`])):t.field.type===`date-picker`?(R(),_(N,M({key:14,value:x.value,"onUpdate:value":a[14]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`month-picker`?(R(),_(N,M({key:15,value:x.value,"onUpdate:value":a[15]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,picker:`month`,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`quarter-picker`?(R(),_(N,M({key:16,value:x.value,"onUpdate:value":a[16]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,picker:`quarter`,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`year-picker`?(R(),_(N,M({key:17,value:x.value,"onUpdate:value":a[17]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,picker:`year`,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`week-picker`?(R(),_(N,M({key:18,value:x.value,"onUpdate:value":a[18]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,picker:`week`,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`range-picker`?(R(),_(I,M({key:19,value:x.value,"onUpdate:value":a[19]||=e=>x.value=e,disabled:b.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`disabled`])):t.field.type===`time-picker`?(R(),_(te,M({key:20,value:x.value,"onUpdate:value":a[20]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`])):t.field.type===`time-range-picker`?(R(),_(ne,M({key:21,value:x.value,"onUpdate:value":a[21]||=e=>x.value=e,disabled:b.value,style:{width:`100%`}},t.field.props),null,16,[`value`,`disabled`])):t.field.type===`cascader`?(R(),_(re,M({key:22,value:x.value,"onUpdate:value":a[22]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,options:C.value,virtual:m.value?.enabled,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`options`,`virtual`])):t.field.type===`tree-select`?(R(),_(ie,M({key:23,value:x.value,"onUpdate:value":a[23]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,"tree-data":C.value,virtual:m.value?.enabled,style:{width:`100%`}},t.field.props),null,16,[`value`,`placeholder`,`disabled`,`tree-data`,`virtual`])):t.field.type===`tree`?(R(),_(o(tt),M({key:24,modelValue:x.value,"onUpdate:modelValue":a[24]||=e=>x.value=e,"tree-data":C.value,disabled:b.value},t.field.props),null,16,[`modelValue`,`tree-data`,`disabled`])):t.field.type===`upload`?(R(),_(U,M({key:25,"file-list":x.value,"onUpdate:fileList":a[25]||=e=>x.value=e,disabled:b.value},t.field.props),{default:B(()=>[t.field.props?.customUpload?H(``,!0):(R(),_(V,{key:0},{icon:B(()=>[...a[31]||=[p(`svg`,{class:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[p(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12`})],-1)]]),default:B(()=>[y(` `+L(t.field.props?.uploadText||o(r)(`common.clickToUpload`)),1)]),_:1}))]),_:1},16,[`file-list`,`disabled`])):t.field.type===`transfer`?(R(),_(oe,M({key:26,"target-keys":x.value,"onUpdate:targetKeys":a[26]||=e=>x.value=e,"data-source":C.value,disabled:b.value,render:e=>e.label},t.field.props),null,16,[`target-keys`,`data-source`,`disabled`,`render`])):t.field.type===`segmented`?(R(),_(X,M({key:27,value:x.value,"onUpdate:value":a[27]||=e=>x.value=e,options:C.value,disabled:b.value},t.field.props),null,16,[`value`,`options`,`disabled`])):t.field.type===`color-picker`?(R(),e(`div`,nt,[v(p(`input`,M({"onUpdate:modelValue":a[28]||=e=>x.value=e,type:`color`,disabled:b.value,class:`w-10 h-10 p-0 border rounded cursor-pointer`},t.field.props),null,16,rt),[[i,x.value]]),w(c,M({value:x.value,"onUpdate:value":a[29]||=e=>x.value=e,disabled:b.value,placeholder:t.field.placeholder,style:{width:`120px`}},t.field.props?.inputProps),null,16,[`value`,`disabled`,`placeholder`])])):t.field.type===`icon`?(R(),_(o(Ne),{key:29,modelValue:x.value,"onUpdate:modelValue":a[30]||=e=>x.value=e,placeholder:t.field.placeholder,disabled:b.value,size:t.field.props?.size,"show-clear":t.field.props?.showClear??!0,categories:t.field.props?.categories,"exclude-categories":t.field.props?.excludeCategories,"popup-width":t.field.props?.popupWidth,"popup-height":t.field.props?.popupHeight,columns:t.field.props?.columns,"show-category-tabs":t.field.props?.showCategoryTabs??!0},null,8,[`modelValue`,`placeholder`,`disabled`,`size`,`show-clear`,`categories`,`exclude-categories`,`popup-width`,`popup-height`,`columns`,`show-category-tabs`])):t.field.type===`list`&&t.field.listConfig?(R(),_(ze,{key:30,field:t.field,"form-data":t.formData,"list-config":t.field.listConfig},null,8,[`field`,`form-data`,`list-config`])):t.field.type===`group`&&t.field.groupConfig?(R(),_(Ue,{key:31,field:t.field,"form-data":t.formData,"group-config":t.field.groupConfig},null,8,[`field`,`form-data`,`group-config`])):t.field.type===`custom`?z(n.$slots,t.field.slot,{key:32,field:t.field,value:x.value,disabled:b.value}):H(``,!0)]),_:3},8,[`name`,`label`,`rules`,`label-col`,`wrapper-col`,`tooltip`,`has-feedback`,`validate-status`,`help`,`extra`,`required`,`validate-trigger`,`validate-debounce`,`validate-first`,`hidden`,`layout`])}}});function it(){let e=a();return l(()=>{let t=e.currentColors,n=e.layoutConfig.radius,r=e.currentMode===`dark`,i=ke(r),a=je(n),o=Ae(t);return{algorithm:r?Te.darkAlgorithm:Te.defaultAlgorithm,token:{colorPrimary:Q(t.primary),colorBgContainer:Q(t.background),colorBgElevated:Q(t.card),colorText:Q(t.foreground),colorTextSecondary:Q(t.mutedForeground),colorBorder:Q(t.border),colorError:Q(t.destructive),borderRadius:a.borderRadius,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,boxShadow:i.boxShadow,boxShadowSecondary:i.boxShadowSecondary,paddingSM:8,padding:12,paddingMD:16,paddingLG:20,paddingXL:24,fontSizeSM:12,fontSize:14,fontSizeLG:16,fontSizeXL:18},components:{...o,Form:{colorTextLabel:Q(t.foreground),colorTextDescription:Q(t.mutedForeground)},Input:{colorBorder:Q(t.input),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorTextPlaceholder:Q(t.mutedForeground),activeShadow:`none`,borderRadius:a.borderRadius},Select:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorTextPlaceholder:Q(t.mutedForeground),colorBgElevated:Q(t.popover),borderRadius:a.borderRadius,boxShadow:i.boxShadow},DatePicker:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorBgElevated:Q(t.popover),colorPrimary:Q(t.primary),borderRadius:a.borderRadius,boxShadow:i.boxShadowSecondary},TimePicker:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorPrimary:Q(t.primary),borderRadius:a.borderRadius},InputNumber:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),borderRadius:a.borderRadius},Cascader:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},TreeSelect:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},Mentions:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorText:Q(t.foreground),colorBgElevated:Q(t.popover),borderRadius:a.borderRadius},AutoComplete:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.popover),colorText:Q(t.foreground),borderRadius:a.borderRadius},Slider:{colorPrimary:Q(t.primary),colorBgElevated:Q(t.muted)},Rate:{colorFillContent:Q(t.muted)},Radio:{colorPrimary:Q(t.primary),colorText:Q(t.foreground)},Checkbox:{colorPrimary:Q(t.primary),colorText:Q(t.foreground),colorBgContainer:Q(t.background),colorBorder:Q(t.border)},Switch:{colorPrimary:Q(t.primary)},Upload:{colorText:Q(t.foreground),colorTextDescription:Q(t.mutedForeground)},Transfer:{colorBorder:Q(t.border),colorBgContainer:Q(t.background),colorBgElevated:Q(t.card),colorText:Q(t.foreground)},Segmented:{colorBgElevated:Q(t.background),colorText:Q(t.foreground),colorTextLabel:Q(t.foreground),borderRadius:a.borderRadius}}}})}function at(e){try{return g(e)}catch{return e}}function ot(e){try{let t=at(e);return JSON.parse(JSON.stringify(t))}catch(t){console.warn(`[useFormMeta] 深拷贝失败，使用浅拷贝`,t);let n=at(e);return Array.isArray(n)?[...n]:{...n}}}function st(e,t){try{let n=at(e),r=at(t),i=Object.keys(n),a=Object.keys(r);if(i.length!==a.length)return!1;for(let e of i){if(!a.includes(e))return!1;let t=n[e],i=r[e];if(t instanceof Date&&i instanceof Date){if(t.getTime()!==i.getTime())return!1;continue}if(typeof t!=typeof i)return!1;if(typeof t==`object`&&t&&i!==null){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(typeof t[e]==`object`&&t[e]!==null){if(!st(t[e],i[e]))return!1}else if(t[e]!==i[e])return!1;continue}if(!st(t,i))return!1;continue}if(t!==i)return!1}return!0}catch(e){return console.warn(`[useFormMeta] 比较对象失败`,e),!1}}function ct(){let e=m({dirty:!1,touched:!1,valid:!0,submitting:!1,validating:!1}),t=h({});function n(e){t.value=ot(e)}function r(n){e.dirty=!st(n,t.value)}function i(){e.touched=!0}function a(t){e.valid=t}function o(t){e.submitting=t}function s(t){e.validating=t}function c(){e.dirty=!1,e.touched=!1,e.valid=!0,e.submitting=!1,e.validating=!1,t.value={}}function l(){return{...e}}return{meta:e,initialFormData:t,setInitialData:n,updateMeta:r,markTouched:i,setValid:a,setSubmitting:o,setValidating:s,resetMeta:c,getMetaSnapshot:l}}var lt={enabled:!1,collapsed:!1,collapseThreshold:3,showCollapseButton:!0,collapseButtonText:`Collapse`,expandButtonText:`Expand`,columns:3,gutter:16,searchText:`Search`,resetText:`Reset`,showReset:!0,onSearch:void 0,onReset:void 0};function ut(e){let{schema:t,formData:n,initialCollapsed:r,locale:i}=e,a=l(()=>n instanceof Object&&`value`in n?n.value:n),o=h(r??t.searchConfig?.collapsed??!1),s=l(()=>t.searchConfig?.enabled===!0),c=l(()=>{let e=i?{searchText:i.value.searchText,resetText:i.value.resetText,expandButtonText:i.value.expandButtonText,collapseButtonText:i.value.collapseButtonText}:{};return{...lt,...t.searchConfig,...e}});function u(e){return typeof e.hidden==`function`?e.hidden(a.value):e.hidden??!1}function d(e){if(!e.dependencies)return!0;let{field:t,condition:n}=e.dependencies,r=a.value[t];return n(r,a.value)}let f=l(()=>t.fields.filter(e=>!(u(e)||!d(e)))),p=l(()=>{let e=f.value;return!s.value||!o.value?e:e.slice(0,c.value.collapseThreshold)}),m=l(()=>f.value.length>c.value.collapseThreshold),g=l(()=>f.value.length<=c.value.collapseThreshold+1);function _(){o.value=!o.value}function v(){o.value=!1}function y(){o.value=!0}return{isCollapsed:o,isSearchMode:s,searchConfig:c,visibleFields:f,searchVisibleFields:p,hasMoreFields:m,shouldShowInline:g,toggleCollapse:_,expand:v,collapse:y}}var dt=E(ve(),1);Pe(),Fe();var ft={key:0,class:`search-form-inline`},pt={class:`search-form-fields`},mt={class:`search-form-actions-inline`},ht=[`disabled`],gt=[`data-collapsed`],_t={class:`search-form-actions-collapsed`},vt=[`disabled`],yt=[`data-collapsed`],bt={class:`search-form-actions-expanded`},xt=[`disabled`],St=[`data-collapsed`],Ct=d({name:`TForm`,__name:`TForm`,props:{schema:{},modelValue:{default:()=>({})},loading:{type:Boolean,default:!1},embedded:{type:Boolean,default:!1}},emits:[`update:modelValue`,`submit`,`finishFailed`,`reset`,`change`,`fieldsChange`],setup(t,{expose:n,emit:r}){let i=t,a=r,{t:s,locale:d}=k(),{smallerThan:f,isMobile:g}=Me(),v=l(()=>i.schema.responsive||{enabled:!0}),b=l(()=>v.value.enabled!==!1),S=l(()=>v.value.mobileBreakpoint||`md`),E=l(()=>b.value?f(S.value):!1),D=l(()=>E.value?v.value.mobileLayout||`vertical`:i.schema.layout),O=l(()=>E.value?v.value.mobileColumns||1:i.schema.columns),A=l(()=>E.value&&v.value.mobileLabelCol||i.schema.labelCol),ee=l(()=>E.value&&v.value.mobileWrapperCol||i.schema.wrapperCol),ie=it(),U=h(null);async function ae(){let e=d.value;U.value=await N(e),dt.default.locale(e===`zh-CN`?`zh-cn`:`en`)}j(d,ae,{immediate:!0});let W=re(),G=h(null),K=m({}),se=m(new Map),ce=m(new Map),le=l(()=>({searchText:s(`common.search`),resetText:s(`common.reset`),expandButtonText:s(`common.expand`),collapseButtonText:s(`common.collapse`)})),{isCollapsed:q,isSearchMode:J,searchConfig:Y,visibleFields:ue,searchVisibleFields:X,hasMoreFields:fe,shouldShowInline:pe,toggleCollapse:Z}=ut({schema:i.schema,formData:K,locale:le}),{meta:me,setInitialData:he,updateMeta:ge,markTouched:_e,setValid:ve,setSubmitting:ye,setValidating:be,getMetaSnapshot:xe}=ct();function Se(e){return Array.isArray(e)?e.join(`.`):String(e)}function Ce(e,t){let n=Se(e);se.set(n,t)}function we(e,t){let n=Se(e);ce.set(n,t)}function Te(){i.schema.fields.forEach(e=>{let t=e.name;e.defaultValue!==void 0&&K[t]===void 0&&(K[t]=e.defaultValue)}),he(K)}function Ee(e){a(`finishFailed`,e)}function Oe(){G.value?.resetFields(),J.value&&i.schema.searchConfig?.onReset&&i.schema.searchConfig.onReset(),!J.value&&i.schema.actions?.onReset&&i.schema.actions.onReset(),a(`reset`)}function Q(e){J.value&&i.schema.searchConfig?.onSearch&&i.schema.searchConfig.onSearch(e),a(`submit`,e)}function ke(e,t){a(`fieldsChange`,e,t)}let Ae={setFieldValue:(e,t)=>{G.value?.setFieldValue(e,t)},getFieldValue:e=>G.value?.getFieldValue(e),setFieldDisabled:Ce,setFieldHidden:we},je=l(()=>{let e=[];return i.schema.fields.forEach(t=>{t.watch&&t.watch.length>0&&t.watch.forEach(n=>{e.push({field:Se(t.name),watch:n})})}),e});function Ne(e){Object.assign(K,e),_e(),ge(K),ne(()=>{je.value.forEach(({watch:t})=>{let n=t.field;if(n in e){let e=K[n];t.handler(e,{...K},Ae)}})}),a(`update:modelValue`,{...K}),a(`change`,e,{...K})}let Pe=l(()=>{if(D.value===`horizontal`)return{offset:A.value?.span||0,span:ee.value?.span||24}});return n({validate:e=>G.value?e&&e.length>0?G.value.validateFields(e):G.value.validateFields():Promise.reject(Error(`表单实例未初始化`)),validateFields:e=>G.value?e&&e.length>0?G.value.validateFields(e):G.value.validateFields():Promise.reject(Error(`表单实例未初始化`)),resetFields:e=>{G.value?.resetFields(e)},clearValidate:e=>{G.value?.clearValidate(e)},getFieldValue:e=>G.value?.getFieldValue(e),getFieldsValue:e=>G.value?.getFieldsValue(e)||{},setFieldValue:(e,t)=>{G.value?.setFieldValue(e,t)},setFieldsValue:e=>{G.value?.setFieldsValue(e)},setFieldDisabled:Ce,getMeta:xe,isDirty:()=>me.dirty,isTouched:()=>me.touched,isValid:()=>me.valid,getFormInstance:()=>G.value??void 0}),j(()=>i.modelValue,e=>{e&&Object.assign(K,e)},{immediate:!0,deep:!0}),j(()=>i.schema,()=>{Te()},{deep:!0}),Te(),(n,r)=>{let a=De,l=de;return U.value?(R(),_(o(oe),{key:0,theme:o(ie),locale:U.value},{default:B(()=>[w(l,{ref_key:`formRef`,ref:G,model:K,layout:o(J)?`inline`:D.value,"label-col":o(J)?void 0:A.value,"wrapper-col":o(J)?void 0:ee.value,"label-align":t.schema.labelAlign,size:t.schema.size,disabled:t.schema.disabled||t.loading,colon:t.schema.colon,variant:t.schema.variant,"validate-trigger":t.schema.validateTrigger,"validate-messages":t.schema.validateMessages,preserve:t.schema.preserve,"clear-on-destroy":t.schema.clearOnDestroy,"scroll-to-first-error":t.schema.scrollToFirstError,class:C(o(te)(`t-form`,{"t-form-search":o(J),"t-form-collapsed":o(J)&&o(q),"t-form-mobile":E.value},n.$attrs.class)),onFinish:Q,onFinishFailed:Ee,onValuesChange:Ne,onFieldsChange:ke},{default:B(()=>[o(J)?(R(),e(P,{key:0},[o(pe)?(R(),e(`div`,ft,[p(`div`,pt,[(R(!0),e(P,null,F(o(X),e=>(R(),_($,{key:String(e.name),field:e,"form-data":K,class:`search-form-item-inline`},x({_:2},[e.type===`custom`&&e.slot&&o(W)[e.slot]?{name:e.slot,fn:B(t=>[z(n.$slots,e.slot,M({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128))]),p(`div`,mt,[p(`button`,{type:`submit`,disabled:t.loading,class:`inline-flex items-center justify-center rounded-md bg-primary px-3 py-[5px] text-sm font-medium text-primary-foreground hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50`},[w(o(c),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).searchText),1)],8,ht),o(Y).showReset?(R(),e(`button`,{key:0,type:`button`,class:`inline-flex items-center justify-center rounded-md border border-input bg-background px-3 py-[5px] text-sm font-medium text-foreground hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2`,onClick:Oe},[w(o(V),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).resetText),1)])):H(``,!0),o(Y).showCollapseButton&&o(fe)?(R(),e(`button`,{key:1,type:`button`,class:`collapse-btn`,"data-collapsed":o(q),onClick:r[0]||=(...e)=>o(Z)&&o(Z)(...e)},[y(L(o(q)?o(Y).expandButtonText:o(Y).collapseButtonText)+` `,1),w(o(T),{class:`chevron-icon w-4 h-4 ml-1`})],8,gt)):H(``,!0)])])):(R(),e(P,{key:1},[o(q)?(R(),e(`div`,{key:0,class:`search-form-container search-form-collapsed-row`,style:u({display:`grid`,gridTemplateColumns:`repeat(${o(Y).columns}, minmax(0, 1fr))`,gap:`${o(Y).gutter}px`})},[(R(!0),e(P,null,F(o(X),e=>(R(),_($,{key:String(e.name),field:e,"form-data":K,class:`search-form-item`},x({_:2},[e.type===`custom`&&e.slot&&o(W)[e.slot]?{name:e.slot,fn:B(t=>[z(n.$slots,e.slot,M({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),p(`div`,_t,[p(`button`,{type:`submit`,disabled:t.loading,class:`search-btn-collapsed`},[w(o(c),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).searchText),1)],8,vt),o(Y).showReset?(R(),e(`button`,{key:0,type:`button`,class:`reset-btn-collapsed`,onClick:Oe},[w(o(V),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).resetText),1)])):H(``,!0),o(Y).showCollapseButton&&o(fe)?(R(),e(`button`,{key:1,type:`button`,class:`collapse-btn collapse-btn-inline`,"data-collapsed":o(q),onClick:r[1]||=(...e)=>o(Z)&&o(Z)(...e)},[y(L(o(Y).expandButtonText)+` `,1),w(o(T),{class:`chevron-icon w-4 h-4 ml-1`})],8,yt)):H(``,!0)])],4)):(R(),e(`div`,{key:1,class:`search-form-container search-form-expanded-row`,style:u({display:`grid`,gridTemplateColumns:`repeat(${o(Y).columns}, minmax(0, 1fr))`,gap:`${o(Y).gutter}px`})},[(R(!0),e(P,null,F(o(X),e=>(R(),_($,{key:String(e.name),field:e,"form-data":K,class:`search-form-item`},x({_:2},[e.type===`custom`&&e.slot&&o(W)[e.slot]?{name:e.slot,fn:B(t=>[z(n.$slots,e.slot,M({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),p(`div`,bt,[p(`button`,{type:`submit`,disabled:t.loading,class:`search-btn-expanded`},[w(o(c),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).searchText),1)],8,xt),o(Y).showReset?(R(),e(`button`,{key:0,type:`button`,class:`reset-btn-expanded`,onClick:Oe},[w(o(V),{class:`w-4 h-4 mr-1`}),y(` `+L(o(Y).resetText),1)])):H(``,!0),o(Y).showCollapseButton&&o(fe)?(R(),e(`button`,{key:1,type:`button`,class:`collapse-btn collapse-btn-inline`,"data-collapsed":o(q),onClick:r[2]||=(...e)=>o(Z)&&o(Z)(...e)},[y(L(o(Y).collapseButtonText)+` `,1),w(o(T),{class:`chevron-icon w-4 h-4 ml-1`})],8,St)):H(``,!0)])],4))],64))],64)):(R(),e(P,{key:1},[O.value&&O.value>1?(R(),e(`div`,{key:0,class:`t-form-grid`,style:u({display:`grid`,gridTemplateColumns:`repeat(${O.value}, 1fr)`,gap:`16px 24px`})},[(R(!0),e(P,null,F(o(ue),e=>(R(),_($,{key:String(e.name),field:e,"form-data":K,style:{"margin-bottom":`0`}},x({_:2},[e.type===`custom`&&e.slot&&o(W)[e.slot]?{name:e.slot,fn:B(t=>[z(n.$slots,e.slot,M({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128))],4)):(R(!0),e(P,{key:1},F(o(ue),e=>(R(),_($,{key:String(e.name),field:e,"form-data":K},x({_:2},[e.type===`custom`&&e.slot&&o(W)[e.slot]?{name:e.slot,fn:B(t=>[z(n.$slots,e.slot,M({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`field`,`form-data`]))),128)),!i.embedded&&(t.schema.actions?.showSubmit!==!1||t.schema.actions?.showReset)?(R(),_(a,{key:2,"wrapper-col":Pe.value,class:C({"t-form-actions-fullwidth":O.value&&O.value>1})},{default:B(()=>[p(`div`,{class:C(o(te)(`flex gap-2`,{"justify-start":t.schema.actions?.align===`left`,"justify-center":t.schema.actions?.align===`center`,"justify-end":!t.schema.actions?.align||t.schema.actions?.align===`right`}))},[t.schema.actions?.showSubmit===!1?H(``,!0):(R(),_(o(I),{key:0,type:`submit`,loading:t.loading},{default:B(()=>[y(L(t.schema.actions?.submitText||o(s)(`common.submit`)),1)]),_:1},8,[`loading`])),t.schema.actions?.showReset?(R(),_(o(I),{key:1,type:`button`,variant:`outline`,onClick:Oe},{default:B(()=>[y(L(t.schema.actions?.resetText||o(s)(`common.reset`)),1)]),_:1})):H(``,!0)],2)]),_:1},8,[`wrapper-col`,`class`])):H(``,!0)],64))]),_:3},8,[`model`,`layout`,`label-col`,`wrapper-col`,`label-align`,`size`,`disabled`,`colon`,`variant`,`validate-trigger`,`validate-messages`,`preserve`,`clear-on-destroy`,`scroll-to-first-error`,`class`])]),_:3},8,[`theme`,`locale`])):H(``,!0)}}});export{tt as n,Ct as t};