import{Ba as e,Bn as t,Ii as n,Ki as r,Pa as i,Vn as a,Yi as o,aa as s,ba as c,bn as l,pn as u,qi as d,ta as f,vn as p}from"./index-DX59uxwP.js";var[m,h]=a(`ConfigProvider`);function g(e){let t=m({dir:i(`ltr`)});return n(()=>e?.value||t.dir?.value||`ltr`)}function _(e,t){let n=i(e);function r(e){return t[n.value][e]??n.value}return{state:n,dispatch:e=>{n.value=r(e)}}}function v(e,t){let r=i({}),a=i(`none`),o=i(e),l=e.value?`mounted`:`unmounted`,d,m=t.value?.ownerDocument.defaultView??p,{state:h,dispatch:g}=_(l,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}}),v=e=>{if(u){let n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(n)}};c(e,async(e,n)=>{let i=n!==e;if(await f(),i){let i=a.value,o=y(t.value);e?(g(`MOUNT`),v(`enter`),o===`none`&&v(`after-enter`)):o===`none`||o===`undefined`||r.value?.display===`none`?(g(`UNMOUNT`),v(`leave`),v(`after-leave`)):n&&i!==o?(g(`ANIMATION_OUT`),v(`leave`)):(g(`UNMOUNT`),v(`after-leave`))}},{immediate:!0});let b=e=>{let n=y(t.value),r=n.includes(CSS.escape(e.animationName)),i=h.value===`mounted`?`enter`:`leave`;if(e.target===t.value&&r&&(v(`after-${i}`),g(`ANIMATION_END`),!o.value)){let e=t.value.style.animationFillMode;t.value.style.animationFillMode=`forwards`,d=m?.setTimeout(()=>{t.value?.style.animationFillMode===`forwards`&&(t.value.style.animationFillMode=e)})}e.target===t.value&&n===`none`&&g(`ANIMATION_END`)},x=e=>{e.target===t.value&&(a.value=y(t.value))},S=c(t,(e,t)=>{e?(r.value=getComputedStyle(e),e.addEventListener(`animationstart`,x),e.addEventListener(`animationcancel`,b),e.addEventListener(`animationend`,b)):(g(`ANIMATION_END`),d!==void 0&&m?.clearTimeout(d),t?.removeEventListener(`animationstart`,x),t?.removeEventListener(`animationcancel`,b),t?.removeEventListener(`animationend`,b))},{immediate:!0}),C=c(h,()=>{let e=y(t.value);a.value=h.value===`mounted`?e:`none`});return s(()=>{S(),C()}),{isPresent:n(()=>[`mounted`,`unmountSuspended`].includes(h.value))}}function y(e){return e&&getComputedStyle(e).animationName||`none`}var b=r({name:`Presence`,props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(n,{slots:r,expose:a}){let{present:s,forceMount:c}=e(n),u=i(),{isPresent:f}=v(s,u);a({present:f});let p=r.default({present:f.value});p=t(p||[]);let m=d();if(p&&p?.length>1){let e=m?.parent?.type.name?`<${m.parent.type.name} />`:`component`;throw Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,``,"Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.",`You can apply a few solutions:`,["Provide a single child element so that `presence` directive attach correctly.",`Ensure the first child is an actual element instead of a raw text node or comment node.`].map(e=>`  - ${e}`).join(`
`)].join(`
`))}return()=>c.value||s.value||f.value?o(r.default({present:f.value})[0],{ref:e=>{let t=l(e);return t?.hasAttribute===void 0||(t?.hasAttribute(`data-reka-popper-content-wrapper`)?u.value=t.firstElementChild:u.value=t),t}}):null}});export{m as i,_ as n,g as r,b as t};