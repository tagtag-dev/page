import{a as e}from"./button-Bo4o88Eb.js";import{Ai as t,Cn as n,Di as r,Ii as i,Oi as a,Qt as o,Sa as s,Vi as c,Xt as l,_i as u,ga as d,mn as f,na as p}from"./index-D9LA8apy.js";var[m,h]=n(`ConfigProvider`);function g(e){let t=m({dir:d(`ltr`)});return u(()=>e?.value||t.dir?.value||`ltr`)}function _(e,t){let n=d(e);function r(e){return t[n.value][e]??n.value}return{state:n,dispatch:e=>{n.value=r(e)}}}function v(e,t){let n=d({}),r=d(`none`),a=d(e),o=e.value?`mounted`:`unmounted`,s,m=t.value?.ownerDocument.defaultView??l,{state:h,dispatch:g}=_(o,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}}),v=e=>{if(f){let n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(n)}};p(e,async(e,a)=>{let o=a!==e;if(await i(),o){let i=r.value,o=y(t.value);e?(g(`MOUNT`),v(`enter`),o===`none`&&v(`after-enter`)):o===`none`||o===`undefined`||n.value?.display===`none`?(g(`UNMOUNT`),v(`leave`),v(`after-leave`)):a&&i!==o?(g(`ANIMATION_OUT`),v(`leave`)):(g(`UNMOUNT`),v(`after-leave`))}},{immediate:!0});let b=e=>{let n=y(t.value),r=n.includes(CSS.escape(e.animationName)),i=h.value===`mounted`?`enter`:`leave`;if(e.target===t.value&&r&&(v(`after-${i}`),g(`ANIMATION_END`),!a.value)){let e=t.value.style.animationFillMode;t.value.style.animationFillMode=`forwards`,s=m?.setTimeout(()=>{t.value?.style.animationFillMode===`forwards`&&(t.value.style.animationFillMode=e)})}e.target===t.value&&n===`none`&&g(`ANIMATION_END`)},x=e=>{e.target===t.value&&(r.value=y(t.value))},S=p(t,(e,t)=>{e?(n.value=getComputedStyle(e),e.addEventListener(`animationstart`,x),e.addEventListener(`animationcancel`,b),e.addEventListener(`animationend`,b)):(g(`ANIMATION_END`),s!==void 0&&m?.clearTimeout(s),t?.removeEventListener(`animationstart`,x),t?.removeEventListener(`animationcancel`,b),t?.removeEventListener(`animationend`,b))},{immediate:!0}),C=p(h,()=>{let e=y(t.value);r.value=h.value===`mounted`?e:`none`});return c(()=>{S(),C()}),{isPresent:u(()=>[`mounted`,`unmountSuspended`].includes(h.value))}}function y(e){return e&&getComputedStyle(e).animationName||`none`}var b=r({name:`Presence`,props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(n,{slots:r,expose:i}){let{present:c,forceMount:l}=s(n),u=d(),{isPresent:f}=v(c,u);i({present:f});let p=r.default({present:f.value});p=e(p||[]);let m=a();if(p&&p?.length>1){let e=m?.parent?.type.name?`<${m.parent.type.name} />`:`component`;throw Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,``,"Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.",`You can apply a few solutions:`,["Provide a single child element so that `presence` directive attach correctly.",`Ensure the first child is an actual element instead of a raw text node or comment node.`].map(e=>`  - ${e}`).join(`
`)].join(`
`))}return()=>l.value||c.value||f.value?t(r.default({present:f.value})[0],{ref:e=>{let t=o(e);return t?.hasAttribute===void 0||(t?.hasAttribute(`data-reka-popper-content-wrapper`)?u.value=t.firstElementChild:u.value=t),t}}):null}});export{m as i,_ as n,g as r,b as t};