import"./ScrollArea-DFVXjTz0.js";import"./RovingFocusItem-CVjkq2qt.js";import"./Presence-3Lrzvetv.js";import"./defu-DUbmuhNq.js";import"./TabsTrigger-DqwypIQj.js";import{Ai as e,Ca as t,Fi as n,Gi as r,Hi as i,Ii as a,J as o,Ka as s,Li as c,Lt as ee,Na as l,Oa as u,Ri as d,T as f,Ua as p,Ui as m,V as h,Va as g,ca as _,fa as v,g as y,n as b,oa as x,vr as S,zi as C}from"./index-D6Cod0pL.js";import"./en_US-LGbIKe0x.js";import"./common-HQCQB71w.js";import"./zh_CN-Cgumeokr.js";import"./_plugin-vue_export-helper-Dey4FfNi.js";import{t as te}from"./badge-O2q4qI2Q.js";import"./dist-D3XftLPo.js";import"./theme-shared-BpTdpb0d.js";import{t as w}from"./TTable-B13ZnM5N.js";import"./useTableColumns-qs-cYpaB.js";import{t as T}from"./TForm-Drq7Qn9R.js";import"./TIcon-C-hNhMC1.js";import{t as E}from"./TModal-OyBXzO5K.js";import{n as ne,t as re}from"./CardContent-CMuL0LxG.js";import{n as ie,t as D}from"./CardTitle-D06OZslX.js";import"./constants-OTiF8S51.js";var O={class:`space-y-6`},k={class:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`},A={class:`flex flex-wrap gap-3`},j={class:`flex items-baseline gap-2`},M={class:`text-lg font-semibold`},N={class:`text-xs text-muted-foreground`},P={class:`bg-muted/40 border border-border/50 rounded-xl px-3 py-3`},F={class:`flex flex-col lg:flex-row lg:items-center gap-4`},I={class:`flex-1`},L={class:`flex items-center gap-3`},R={class:`text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full`},z={class:`flex items-center gap-2`},B={class:`font-medium`},V={class:`flex items-center gap-1`},ae={class:`font-medium`},H={class:`flex flex-col items-center justify-center py-12 text-muted-foreground`},U={class:`w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4`},W=r({__name:`Logistics`,setup(r){let W=l([{id:`1`,name:`顺丰速运`,code:`SF`,contact:`王经理`,phone:`400-811-1111`,address:`深圳市福田区`,status:`active`,rating:4.8,deliveryCount:1256,createdAt:`2024-01-01`},{id:`2`,name:`中通快递`,code:`ZTO`,contact:`李经理`,phone:`95311`,address:`上海市青浦区`,status:`active`,rating:4.5,deliveryCount:892,createdAt:`2024-01-05`},{id:`3`,name:`圆通速递`,code:`YTO`,contact:`张经理`,phone:`95554`,address:`上海市青浦区`,status:`active`,rating:4.3,deliveryCount:567,createdAt:`2024-01-10`},{id:`4`,name:`韵达快递`,code:`YD`,contact:`陈经理`,phone:`95546`,address:`上海市青浦区`,status:`inactive`,rating:4.2,deliveryCount:234,createdAt:`2024-01-15`}]),G=n(()=>{let e=W.value.length,t=W.value.filter(e=>e.status===`active`).length,n=W.value.reduce((e,t)=>e+t.deliveryCount,0),r=e>0?(W.value.reduce((e,t)=>e+t.rating,0)/e).toFixed(1):`0.0`;return[{title:`物流公司`,value:e,icon:y,color:`text-blue-500`},{title:`合作中`,value:t,icon:ee,color:`text-green-500`},{title:`配送订单`,value:n.toLocaleString(),icon:o,color:`text-purple-500`},{title:`平均评分`,value:r,icon:f,color:`text-yellow-500`}]}),K=l({keyword:``,status:``}),q={layout:`inline`,fields:[{name:`keyword`,type:`input`,label:``,placeholder:`搜索公司名称、编码...`,className:`w-[240px]`},{name:`status`,type:`select`,label:``,placeholder:`全部状态`,options:[{label:`全部状态`,value:``},{label:`合作中`,value:S.ACTIVE},{label:`已停用`,value:S.INACTIVE}],className:`w-[140px]`}],searchConfig:{enabled:!0,collapsed:!1,showCollapseButton:!1,searchText:`搜索`,resetText:`重置`,showReset:!0}},J=n(()=>{let e=W.value;if(K.value.keyword){let t=K.value.keyword.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t))}return K.value.status&&(e=e.filter(e=>e.status===K.value.status)),e.map(e=>({...e,key:e.id}))}),oe=n(()=>({columns:[{title:`公司名称`,dataIndex:`name`,width:180,slot:`name`},{title:`编码`,dataIndex:`code`,width:100},{title:`联系人`,dataIndex:`contact`,width:120},{title:`联系电话`,dataIndex:`phone`,width:140},{title:`评分`,dataIndex:`rating`,width:100,slot:`rating`},{title:`配送订单`,dataIndex:`deliveryCount`,width:120,sorter:!0},{title:`状态`,dataIndex:`status`,width:100,slot:`status`}],pagination:{pageSize:10,show:!0,showSizeChanger:!0},rowSelection:{type:`checkbox`,show:!0},actions:[{text:`编辑`,type:`primary`,onClick:e=>ue(e)},{text:`删除`,type:`danger`,confirm:!0,confirmText:`确定要删除该物流公司吗？`,onClick:e=>fe(e.id)}],actionWidth:150,actionFixed:`right`})),Y=l(!1),X=l(!1),Z=l(null),Q=l({name:``,code:``,contact:``,phone:``,address:``,status:`active`}),$=l({id:``,name:``,code:``,contact:``,phone:``,address:``,status:`active`}),se={layout:`horizontal`,labelCol:{span:6},wrapperCol:{span:18},fields:[{name:`name`,type:`input`,label:`公司名称`,placeholder:`请输入公司名称`,rules:[{required:!0,message:`公司名称不能为空`}]},{name:`code`,type:`input`,label:`公司编码`,placeholder:`请输入公司编码`,rules:[{required:!0,message:`公司编码不能为空`}]},{name:`contact`,type:`input`,label:`联系人`,placeholder:`请输入联系人姓名`},{name:`phone`,type:`input`,label:`联系电话`,placeholder:`请输入联系电话`},{name:`address`,type:`input`,label:`公司地址`,placeholder:`请输入公司地址`},{name:`status`,type:`select`,label:`状态`,placeholder:`请选择状态`,options:[{label:`合作中`,value:`active`},{label:`已停用`,value:`inactive`}]}],actions:{showSubmit:!0,showReset:!0,submitText:`添加公司`,resetText:`取消`,align:`right`,onReset:()=>{Y.value=!1}}},ce={layout:`horizontal`,labelCol:{span:6},wrapperCol:{span:18},fields:[{name:`name`,type:`input`,label:`公司名称`,placeholder:`请输入公司名称`,rules:[{required:!0,message:`公司名称不能为空`}]},{name:`contact`,type:`input`,label:`联系人`,placeholder:`请输入联系人姓名`},{name:`phone`,type:`input`,label:`联系电话`,placeholder:`请输入联系电话`},{name:`address`,type:`input`,label:`公司地址`,placeholder:`请输入公司地址`},{name:`status`,type:`select`,label:`状态`,placeholder:`请选择状态`,options:[{label:`合作中`,value:`active`},{label:`已停用`,value:`inactive`}]}],actions:{showSubmit:!0,showReset:!0,submitText:`保存修改`,resetText:`取消`,align:`right`,onReset:()=>{X.value=!1}}};function le(e){let t={id:Date.now().toString(),name:e.name,code:e.code,contact:e.contact,phone:e.phone,address:e.address,status:e.status,rating:5,deliveryCount:0,createdAt:new Date().toISOString().split(`T`)[0]||``};W.value.push(t),Y.value=!1,Q.value={name:``,code:``,contact:``,phone:``,address:``,status:`active`}}function ue(e){Z.value=e,$.value={id:e.id,name:e.name,code:e.code,contact:e.contact,phone:e.phone,address:e.address,status:e.status},X.value=!0}function de(e){if(Z.value){let t=W.value.findIndex(e=>e.id===Z.value.id);if(t!==-1){let n=W.value[t];W.value[t]={...n,name:e.name,contact:e.contact,phone:e.phone,address:e.address,status:e.status}}X.value=!1,Z.value=null}}function fe(e){W.value=W.value.filter(t=>t.id!==e)}let pe=l([]);function me(e){pe.value=e}return(n,r)=>(x(),C(`div`,O,[a(`div`,k,[r[9]||=a(`div`,null,[a(`h1`,{class:`text-3xl font-bold tracking-tight`},`物流管理`),a(`p`,{class:`text-muted-foreground mt-1.5 text-sm`},`管理物流公司和配送服务`)],-1),m(g(b),{class:`gap-2`,onClick:r[0]||=e=>Y.value=!0},{default:t(()=>[m(g(h),{class:`h-4 w-4`}),r[8]||=i(` 添加公司 `,-1)]),_:1})]),m(g(E),{open:g(Y),"onUpdate:open":r[2]||=e=>u(Y)?Y.value=e:null,title:`添加物流公司`,width:`560`,footer:null},{default:t(()=>[m(g(T),{modelValue:g(Q),"onUpdate:modelValue":r[1]||=e=>u(Q)?Q.value=e:null,schema:se,onSubmit:le},null,8,[`modelValue`])]),_:1},8,[`open`]),m(g(E),{open:g(X),"onUpdate:open":r[4]||=e=>u(X)?X.value=e:null,title:`编辑物流公司`,width:`560`,footer:null},{default:t(()=>[g(Z)?(x(),c(g(T),{key:0,modelValue:g($),"onUpdate:modelValue":r[3]||=e=>u($)?$.value=e:null,schema:ce,onSubmit:de},null,8,[`modelValue`])):d(``,!0)]),_:1},8,[`open`]),a(`div`,A,[(x(!0),C(e,null,_(g(G),e=>(x(),C(`div`,{key:e.title,class:`flex items-center gap-3 px-4 py-2.5 bg-muted/50 rounded-lg hover:bg-muted/70 transition-colors`},[(x(),c(v(e.icon),{class:p([`h-4 w-4`,e.color])},null,8,[`class`])),a(`div`,j,[a(`span`,M,s(e.value),1),a(`span`,N,s(e.title),1)])]))),128))]),a(`div`,P,[a(`div`,F,[a(`div`,I,[m(g(T),{modelValue:g(K),"onUpdate:modelValue":r[5]||=e=>u(K)?K.value=e:null,schema:q},null,8,[`modelValue`])])])]),m(g(ne),{class:`bg-muted/40 border border-border/50 rounded-xl`},{default:t(()=>[m(g(ie),{class:`pb-4`},{default:t(()=>[a(`div`,L,[m(g(D),{class:`text-base font-semibold`},{default:t(()=>[...r[10]||=[i(`物流公司列表`,-1)]]),_:1}),a(`span`,R,` 共 `+s(g(J).length)+` 家 `,1)])]),_:1}),m(g(re),{class:`pt-0`},{default:t(()=>[m(g(w),{ref:`tableRef`,data:g(J),"onUpdate:data":r[7]||=e=>u(J)?J.value=e:null,schema:g(oe),onSelectChange:me},{name:t(e=>[a(`div`,z,[m(g(y),{class:`h-4 w-4 text-blue-500`}),a(`span`,B,s(e.text),1)])]),rating:t(e=>[a(`div`,V,[m(g(f),{class:`h-3 w-3 text-yellow-500 fill-yellow-500`}),a(`span`,ae,s(e.text),1)])]),status:t(e=>[m(g(te),{class:p({"bg-green-500/10 text-green-500 border-green-500/20":e.text===g(S).ACTIVE,"bg-gray-500/10 text-gray-500 border-gray-500/20":e.text===g(S).INACTIVE}),variant:`outline`},{default:t(()=>[i(s(e.text===g(S).ACTIVE?`合作中`:`已停用`),1)]),_:2},1032,[`class`])]),emptyText:t(()=>[a(`div`,H,[a(`div`,U,[m(g(y),{class:`w-8 h-8 text-muted-foreground/50`})]),r[12]||=a(`p`,{class:`text-base font-medium mb-1`},`暂无物流公司数据`,-1),r[13]||=a(`p`,{class:`text-sm text-muted-foreground mb-4`},`开始添加您的第一家物流公司吧`,-1),m(g(b),{size:`sm`,onClick:r[6]||=e=>Y.value=!0},{default:t(()=>[m(g(h),{class:`h-4 w-4 mr-1`}),r[11]||=i(` 添加公司 `,-1)]),_:1})])]),_:1},8,[`data`,`schema`])]),_:1})]),_:1})]))}});export{W as default};